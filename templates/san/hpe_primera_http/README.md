
# HPE Primera by HTTP

## Overview

For Zabbix version: 6.0 and higher  
The template to monitor HPE Primera by HTTP.
It works without any external scripts and uses the Script items.

This template was tested on:

- HPE Primera, version 4.2.1.6

## Setup

> See [Zabbix template operation](https://www.zabbix.com/documentation/6.0/manual/config/templates_out_of_the_box/http) for basic instructions.

1. Create user zabbix on the storage with browse role and enable it for all domains.
2. The WSAPI server does not start automatically.
   Log in to the CLI as Super, Service, or any role granted the wsapi_set right.
   Start the WSAPI server by command: `startwsapi`.
   To check WSAPI state use command: `showwsapi`.
3. Link template to the host.
4. Configure macros {$HPE.PRIMERA.USERNAME} and {$HPE.PRIMERA.PASSWORD}.

## Zabbix configuration

No specific Zabbix configuration is required.

### Macros used

|Name|Description|Default|
|----|-----------|-------|
|{$HPE.PRIMERA.DATA.TIMEOUT} |<p>Response timeout for WSAPI.</p> |`3s` |
|{$HPE.PRIMERA.LLD.FILTER.TASK.NAME.MATCHES} |<p>Filter of discoverable tasks by name.</p> |`.*` |
|{$HPE.PRIMERA.LLD.FILTER.TASK.NAME.NOT_MATCHES} |<p>Filter to exclude discovered tasks by name.</p> |`CHANGE_IF_NEEDED` |
|{$HPE.PRIMERA.PASSWORD} |<p>Specify password for WSAPI.</p> |`` |
|{$HPE.PRIMERA.USERNAME} |<p>Specify user name for WSAPI.</p> |`zabbix` |

## Template links

There are no template links in this template.

## Discovery rules

|Name|Description|Type|Key and additional info|
|----|-----------|----|----|
|Common Provisioning Groups Discovery |<p>List of CPGs resources.</p> |DEPENDENT |hpe.primera.cpg.discovery<p>**Preprocessing**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `6h`</p> |
|Disks Discovery |<p>List of physical disk resources.</p> |DEPENDENT |hpe.primera.disks.discovery<p>**Preprocessing**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `6h`</p> |
|Hosts Discovery |<p>List of host resources.</p> |DEPENDENT |hpe.primera.hosts.discovery<p>**Preprocessing**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `6h`</p><p>**Filter**:</p>AND <p>- {#NAME} EXISTS</p> |
|Ports Discovery |<p>List of port resources.</p> |DEPENDENT |hpe.primera.ports.discovery<p>**Preprocessing**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `6h`</p><p>**Filter**:</p>AND <p>- {#TYPE} NOT_MATCHES_REGEX `3`</p> |
|Tasks Discovery |<p>List of task resources.</p> |DEPENDENT |hpe.primera.tasks.discovery<p>**Preprocessing**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `6h`</p><p>**Filter**:</p>AND <p>- {#NAME} MATCHES_REGEX `{$HPE.PRIMERA.LLD.FILTER.TASK.NAME.MATCHES}`</p><p>- {#NAME} NOT_MATCHES_REGEX `{$HPE.PRIMERA.LLD.FILTER.TASK.NAME.NOT_MATCHES}`</p> |
|Volumes Discovery |<p>List of storage volume resources.</p> |DEPENDENT |hpe.primera.volumes.discovery<p>**Preprocessing**:</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `6h`</p> |

## Items collected

|Group|Name|Description|Type|Key and additional info|
|-----|----|-----------|----|---------------------|
|HPE |HPE Primera: Get Common Provisioning Groups |<p>A list of cpgs.</p> |SCRIPT |hpe.primera.cpgs<p>**Preprocessing**:</p><p>- JSONPATH: `$.members`</p><p>**Expression**:</p>`The text is too long. Please see the template.` |
|HPE |HPE Primera: Get Hosts |<p>A list of hosts.</p> |SCRIPT |hpe.primera.hosts<p>**Preprocessing**:</p><p>- JSONPATH: `$.members`</p><p>**Expression**:</p>`The text is too long. Please see the template.` |
|HPE |HPE Primera: Get Physical disks |<p>A list of disks.</p> |SCRIPT |hpe.primera.disks<p>**Preprocessing**:</p><p>- JSONPATH: `$.members`</p><p>**Expression**:</p>`The text is too long. Please see the template.` |
|HPE |HPE Primera: Get Ports |<p>A list of ports.</p> |SCRIPT |hpe.primera.ports<p>**Preprocessing**:</p><p>- JSONPATH: `$.members`</p><p>**Expression**:</p>`The text is too long. Please see the template.` |
|HPE |HPE Primera: Get System Information |<p>General System information.</p> |SCRIPT |hpe.primera.system.info<p>**Preprocessing**:</p><p>- CHECK_NOT_SUPPORTED: ``</p><p>⛔️ON_FAIL: `CUSTOM_VALUE -> {}`</p><p>**Expression**:</p>`The text is too long. Please see the template.` |
|HPE |HPE Primera: Get Tasks |<p>A list of latest executed, in progress or failed tasks.</p> |SCRIPT |hpe.primera.tasks<p>**Preprocessing**:</p><p>- JSONPATH: `$.members`</p><p>- JAVASCRIPT: `The text is too long. Please see the template.`</p><p>**Expression**:</p>`The text is too long. Please see the template.` |
|HPE |HPE Primera: Get Volumes |<p>A list of storage volumes.</p> |SCRIPT |hpe.primera.volumes<p>**Preprocessing**:</p><p>- JSONPATH: `$.members`</p><p>**Expression**:</p>`The text is too long. Please see the template.` |
|HPE |HPE Primera: Allocated capacity |<p>Allocated capacity in the system.</p> |DEPENDENT |hpe.primera.system.allocated.capacity<p>**Preprocessing**:</p><p>- JSONPATH: `$.allocatedCapacityMiB`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |HPE Primera: Chunklet size |<p>Chunklet size.</p> |DEPENDENT |hpe.primera.system.chunklet.size<p>**Preprocessing**:</p><p>- JSONPATH: `$.chunkletSizeMiB`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |HPE Primera: Contact |<p>Contact of the system.</p> |DEPENDENT |hpe.primera.system.contact<p>**Preprocessing**:</p><p>- JSONPATH: `$.contact`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |HPE Primera: Failed capacity |<p>Failed capacity in the system.</p> |DEPENDENT |hpe.primera.system.failed.capacity<p>**Preprocessing**:</p><p>- JSONPATH: `$.failedCapacityMiB`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |HPE Primera: Free capacity |<p>Free capacity in the system.</p> |DEPENDENT |hpe.primera.system.free.capacity<p>**Preprocessing**:</p><p>- JSONPATH: `$.freeCapacityMiB`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |HPE Primera: Health |<p>System availability.</p> |DEPENDENT |hpe.primera.system.health<p>**Preprocessing**:</p><p>- JSONPATH: `$.id`</p><p>⛔️ON_FAIL: `CUSTOM_VALUE -> 0`</p> |
|HPE |HPE Primera: Location |<p>Location of the system.</p> |DEPENDENT |hpe.primera.system.location<p>**Preprocessing**:</p><p>- JSONPATH: `$.location`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |HPE Primera: Model |<p>System model.</p> |DEPENDENT |hpe.primera.system.model<p>**Preprocessing**:</p><p>- JSONPATH: `$.model`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |HPE Primera: Name |<p>System name.</p> |DEPENDENT |hpe.primera.system.name<p>**Preprocessing**:</p><p>- JSONPATH: `$.name`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `6h`</p> |
|HPE |HPE Primera: Serial Number |<p>System serial number.</p> |DEPENDENT |hpe.primera.system.serial.number<p>**Preprocessing**:</p><p>- JSONPATH: `$.serialNumber`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |HPE Primera: Software version number |<p>Storage system software version number.</p> |DEPENDENT |hpe.primera.system.sw.version<p>**Preprocessing**:</p><p>- JSONPATH: `$.systemVersion`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |HPE Primera: Total capacity |<p>Total capacity in the system.</p> |DEPENDENT |hpe.primera.system.total.capacity<p>**Preprocessing**:</p><p>- JSONPATH: `$.totalCapacityMiB`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |HPE Primera: Total nodes |<p>Total number of nodes in the system.</p> |DEPENDENT |hpe.primera.system.total.nodes<p>**Preprocessing**:</p><p>- JSONPATH: `$.totalNodes`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|HPE |HPE Primera: Online nodes count |<p>Number of online nodes in the system.</p> |DEPENDENT |hpe.primera.system.online.nodes<p>**Preprocessing**:</p><p>- JSONPATH: `$.onlineNodes`</p><p>- JAVASCRIPT: `return value.length`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|HPE |HPE Primera: Disks total |<p>Number of physical disks.</p> |DEPENDENT |hpe.primera.disks.total<p>**Preprocessing**:</p><p>- JSONPATH: `$.total`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|HPE |CPG [{#NAME}]: Additional State |<p>Detailed state of the CPG:</p><p>LDS_NOT_STARTED (1) - LDs not started.</p><p>NOT_STARTED (2) - VV not started.</p><p>NEEDS_CHECK (3) - Check for consistency.</p><p>NEEDS_MAINT_CHECK (4) - Maintenance check is required.</p><p>INTERNAL_CONSISTENCY_ERROR (5) - Internal consistency error.</p><p>SNAPDATA_INVALID (6) - Invalid snapshot data.</p><p>PRESERVED (7) - Unavailable LD sets due to missing chunklets. Preserved remaining VV data.</p><p>STALE (8) - Parts of the VV contain old data because of a copy-on-write operation.</p><p>COPY_FAILED (9) - A promote or copy operation to this volume failed.</p><p>DEGRADED_AVAIL (10) - Degraded due to availability.</p><p>DEGRADED_PERF (11) - Degraded due to performance.</p><p>PROMOTING (12) - Volume is the current target of a promote operation.</p><p>COPY_TARGET (13) - Volume is the current target of a physical copy operation.</p><p>RESYNC_TARGET (14) - Volume is the current target of a resynchronized copy operation.</p><p>TUNING (15) - Volume tuning is in progress.</p><p>CLOSING (16) - Volume is closing.</p><p>REMOVING (17) - Removing the volume.</p><p>REMOVING_RETRY (18) - Retrying a volume removal operation.</p><p>CREATING (19) - Creating a volume.</p><p>COPY_SOURCE (20) - Copy source.</p><p>IMPORTING (21) - Importing a volume.</p><p>CONVERTING (22) - Converting a volume.</p><p>INVALID (23) - Invalid.</p><p>EXCLUSIVE (24) - Local storage system has exclusive access to the volume.</p><p>CONSISTENT (25) - Volume is being imported consistently along with other volumes in the VV set.</p><p>STANDBY (26) - Volume in Standby mode.</p><p>SD_META_INCONSISTENT (27) - SD Meta Inconsistent.</p><p>SD_NEEDS_FIX (28) - SD needs fix.</p><p>SD_META_FIXING (29) - SD meta fix.</p><p>UNKNOWN (999) - Unknown state.</p><p>NOT_SUPPORTED_BY_WSAPI (1000) - State not supported by WSAPI.</p> |DEPENDENT |hpe.primera.cpg.additional.states["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].additionalStates.first()`</p><p>- JAVASCRIPT: `return JSON.stringify(JSON.parse(value));`</p> |
|HPE |CPG [{#NAME}]: Degraded State |<p>Detailed state of the CPG:</p><p>LDS_NOT_STARTED (1) - LDs not started.</p><p>NOT_STARTED (2) - VV not started.</p><p>NEEDS_CHECK (3) - Check for consistency.</p><p>NEEDS_MAINT_CHECK (4) - Maintenance check is required.</p><p>INTERNAL_CONSISTENCY_ERROR (5) - Internal consistency error.</p><p>SNAPDATA_INVALID (6) - Invalid snapshot data.</p><p>PRESERVED (7) - Unavailable LD sets due to missing chunklets. Preserved remaining VV data.</p><p>STALE (8) - Parts of the VV contain old data because of a copy-on-write operation.</p><p>COPY_FAILED (9) - A promote or copy operation to this volume failed.</p><p>DEGRADED_AVAIL (10) - Degraded due to availability.</p><p>DEGRADED_PERF (11) - Degraded due to performance.</p><p>PROMOTING (12) - Volume is the current target of a promote operation.</p><p>COPY_TARGET (13) - Volume is the current target of a physical copy operation.</p><p>RESYNC_TARGET (14) - Volume is the current target of a resynchronized copy operation.</p><p>TUNING (15) - Volume tuning is in progress.</p><p>CLOSING (16) - Volume is closing.</p><p>REMOVING (17) - Removing the volume.</p><p>REMOVING_RETRY (18) - Retrying a volume removal operation.</p><p>CREATING (19) - Creating a volume.</p><p>COPY_SOURCE (20) - Copy source.</p><p>IMPORTING (21) - Importing a volume.</p><p>CONVERTING (22) - Converting a volume.</p><p>INVALID (23) - Invalid.</p><p>EXCLUSIVE (24) - Local storage system has exclusive access to the volume.</p><p>CONSISTENT (25) - Volume is being imported consistently along with other volumes in the VV set.</p><p>STANDBY (26) - Volume in Standby mode.</p><p>SD_META_INCONSISTENT (27) - SD Meta Inconsistent.</p><p>SD_NEEDS_FIX (28) - SD needs fix.</p><p>SD_META_FIXING (29) - SD meta fix.</p><p>UNKNOWN (999) - Unknown state.</p><p>NOT_SUPPORTED_BY_WSAPI (1000) - State not supported by WSAPI.</p> |DEPENDENT |hpe.primera.cpg.degraded.states["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].degradedStates.first()`</p><p>- JAVASCRIPT: `return JSON.stringify(JSON.parse(value));`</p> |
|HPE |CPG [{#NAME}]: Failed State |<p>Detailed state of the CPG:</p><p>LDS_NOT_STARTED (1) - LDs not started.</p><p>NOT_STARTED (2) - VV not started.</p><p>NEEDS_CHECK (3) - Check for consistency.</p><p>NEEDS_MAINT_CHECK (4) - Maintenance check is required.</p><p>INTERNAL_CONSISTENCY_ERROR (5) - Internal consistency error.</p><p>SNAPDATA_INVALID (6) - Invalid snapshot data.</p><p>PRESERVED (7) - Unavailable LD sets due to missing chunklets. Preserved remaining VV data.</p><p>STALE (8) - Parts of the VV contain old data because of a copy-on-write operation.</p><p>COPY_FAILED (9) - A promote or copy operation to this volume failed.</p><p>DEGRADED_AVAIL (10) - Degraded due to availability.</p><p>DEGRADED_PERF (11) - Degraded due to performance.</p><p>PROMOTING (12) - Volume is the current target of a promote operation.</p><p>COPY_TARGET (13) - Volume is the current target of a physical copy operation.</p><p>RESYNC_TARGET (14) - Volume is the current target of a resynchronized copy operation.</p><p>TUNING (15) - Volume tuning is in progress.</p><p>CLOSING (16) - Volume is closing.</p><p>REMOVING (17) - Removing the volume.</p><p>REMOVING_RETRY (18) - Retrying a volume removal operation.</p><p>CREATING (19) - Creating a volume.</p><p>COPY_SOURCE (20) - Copy source.</p><p>IMPORTING (21) - Importing a volume.</p><p>CONVERTING (22) - Converting a volume.</p><p>INVALID (23) - Invalid.</p><p>EXCLUSIVE (24) - Local storage system has exclusive access to the volume.</p><p>CONSISTENT (25) - Volume is being imported consistently along with other volumes in the VV set.</p><p>STANDBY (26) - Volume in Standby mode.</p><p>SD_META_INCONSISTENT (27) - SD Meta Inconsistent.</p><p>SD_NEEDS_FIX (28) - SD needs fix.</p><p>SD_META_FIXING (29) - SD meta fix.</p><p>UNKNOWN (999) - Unknown state.</p><p>NOT_SUPPORTED_BY_WSAPI (1000) - State not supported by WSAPI.</p> |DEPENDENT |hpe.primera.cpg.failed.states["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].failedStates.first()`</p><p>- JAVASCRIPT: `return JSON.stringify(JSON.parse(value));`</p> |
|HPE |CPG [{#NAME}]: Free CPG space |<p>Free CPG space.</p> |DEPENDENT |hpe.primera.cpg.free.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].freeSpaceMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `10m`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Number of FPVVs |<p>Number of FPVVs (Fully Provisioned Virtual Volumes) allocated in the CPG.</p> |DEPENDENT |hpe.primera.cpg.fpvvs.number["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].numFPVVs.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|HPE |CPG [{#NAME}]: Number of TPVVs |<p>Number of TPVVs (Thinly Provisioned Virtual Volumes) allocated in the CPG.</p> |DEPENDENT |hpe.primera.cpg.tpvvs.number["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].numTPVVs.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|HPE |CPG [{#NAME}]: Number of TDVVs |<p>Number of TDVVs (Thinly Deduplicated Virtual Volume) created in the CPG.</p> |DEPENDENT |hpe.primera.cpg.tdvvs.number["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].numTDVVs.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|HPE |CPG [{#NAME}]: Raw free space |<p>Raw free space.</p> |DEPENDENT |hpe.primera.cpg.raw.free.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].rawFreeSpaceMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `10m`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Raw shared space |<p>Raw shared space.</p> |DEPENDENT |hpe.primera.cpg.raw.shared.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].rawSharedSpaceMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Raw total space |<p>Raw total space.</p> |DEPENDENT |hpe.primera.cpg.raw.total.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].rawTotalSpaceMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Shared CPG space |<p>Shared CPG space.</p> |DEPENDENT |hpe.primera.cpg.shared.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].sharedSpaceMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: State |<p>Overall state of the CPG:</p><p>NORMAL (1) - Normal operation;</p><p>DEGRADED (2) - Degraded state;</p><p>FAILED (3) - Abnormal operation;</p><p>UNKNOWN (99) - Unknown state.</p> |DEPENDENT |hpe.primera.cpg.state["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].state.first()`</p> |
|HPE |CPG [{#NAME}]: Total (raw) logical disk space in Snapshot administration |<p>Snapshot administration usage. Total physical (raw) logical disk space.</p> |DEPENDENT |hpe.primera.cpg.sa.usage.raw.total["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].SAUsage.rawTotalMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Total (raw) logical disk space in Snapshot data |<p>Snapshot data space usage. Total physical (raw) logical disk space.</p> |DEPENDENT |hpe.primera.cpg.sd.usage.raw.total["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].SDUsage.rawTotalMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Total (raw) logical disk space in User space |<p>User data space usage. Total physical (raw) logical disk space.</p> |DEPENDENT |hpe.primera.cpg.usr.usage.raw.total["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].UsrUsage.rawTotalMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Total logical disk space in Snapshot administration |<p>Snapshot administration usage. Total logical disk space.</p> |DEPENDENT |hpe.primera.cpg.sa.usage.total["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].SAUsage.totalMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Total logical disk space in Snapshot data |<p>Snapshot data space usage. Total logical disk space.</p> |DEPENDENT |hpe.primera.cpg.sd.usage.total["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].SDUsage.totalMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Total logical disk space in User space |<p>User data space usage. Total logical disk space.</p> |DEPENDENT |hpe.primera.cpg.usr.usage.total["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].UsrUsage.totalMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Total CPG space |<p>Total CPG space.</p> |DEPENDENT |hpe.primera.cpg.total.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].totalSpaceMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Used (raw) logical disk space in Snapshot administration |<p>Snapshot administration usage. Amount of physical (raw) logical disk used.</p> |DEPENDENT |hpe.primera.cpg.sa.usage.raw.used["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].SAUsage.rawUsedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Used (raw) logical disk space in Snapshot data |<p>Snapshot data space usage. Amount of physical (raw) logical disk used.</p> |DEPENDENT |hpe.primera.cpg.sd.usage.raw.used["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].SDUsage.rawUsedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Used (raw) logical disk space in User space |<p>User data space usage. Amount of physical (raw) logical disk used.</p> |DEPENDENT |hpe.primera.cpg.usr.usage.raw.used["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].UsrUsage.rawUsedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Used logical disk space in Snapshot administration |<p>Snapshot administration usage. Amount of logical disk used.</p> |DEPENDENT |hpe.primera.cpg.sa.usage.used["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].SAUsage.usedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Used logical disk space in Snapshot data |<p>Snapshot data space usage. Amount of logical disk used.</p> |DEPENDENT |hpe.primera.cpg.sd.usage.used["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].SDUsage.usedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |CPG [{#NAME}]: Used logical disk space in User space |<p>User data space usage. Amount of logical disk used.</p> |DEPENDENT |hpe.primera.cpg.usr.usage.used["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].UsrUsage.usedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Disk [{#POSITION}]: Firmware version |<p>Physical disk firmware version.</p> |DEPENDENT |hpe.primera.disk.fw.version["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].fwVersion.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |Disk [{#POSITION}]: Free size |<p>Physical disk free size.</p> |DEPENDENT |hpe.primera.disk.free.size["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].freeSizeMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Disk [{#POSITION}]: Manufacturer |<p>Physical disk manufacturer.</p> |DEPENDENT |hpe.primera.disk.manufacturer["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].manufacturer.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |Disk [{#POSITION}]: Model |<p>Manufacturer's device ID for disk.</p> |DEPENDENT |hpe.primera.disk.model["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].model.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |Disk [{#POSITION}]: Path A0 Degraded |<p>Indicates if this is a degraded path for the disk.</p> |DEPENDENT |hpe.primera.disk.loop.a0.degraded["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].loopA0.degraded.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `10m`</p> |
|HPE |Disk [{#POSITION}]: Path A1 Degraded |<p>Indicates if this is a degraded path for the disk.</p> |DEPENDENT |hpe.primera.disk.loop.a1.degraded["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].loopA1.degraded.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `10m`</p> |
|HPE |Disk [{#POSITION}]: Path B0 Degraded |<p>Indicates if this is a degraded path for the disk.</p> |DEPENDENT |hpe.primera.disk.loop.b0.degraded["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].loopB0.degraded.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `10m`</p> |
|HPE |Disk [{#POSITION}]: Path B1 Degraded |<p>Indicates if this is a degraded path for the disk.</p> |DEPENDENT |hpe.primera.disk.loop.b1.degraded["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].loopB1.degraded.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `10m`</p> |
|HPE |Disk [{#POSITION}]: RPM |<p>RPM of the physical disk.</p> |DEPENDENT |hpe.primera.disk.rpm["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].RPM.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|HPE |Disk [{#POSITION}]: Serial Number |<p>Disk drive serial number.</p> |DEPENDENT |hpe.primera.disk.serial.number["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].serialNumber.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |Disk [{#POSITION}]: State |<p>State of the physical disk:</p><p>Normal (1) - Physical disk is in Normal state;</p><p>Degraded (2) - Physical disk is not operating normally;</p><p>New (3) - Physical disk is new, needs to be admitted;</p><p>Failed (4) - Physical disk has failed;</p><p>Unknown (99) - Physical disk state is unknown.</p> |DEPENDENT |hpe.primera.disk.state["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].state.first()`</p><p>⛔️ON_FAIL: `CUSTOM_VALUE -> 99`</p> |
|HPE |Disk [{#POSITION}]: Total size |<p>Physical disk total size.</p> |DEPENDENT |hpe.primera.disk.total.size["{#POSITION}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.position == "{#POSITION}")].totalSizeMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Host [{#NAME}]: Comment |<p>Additional information for the host.</p> |DEPENDENT |hpe.primera.host.comment["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].descriptors.comment.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |Host [{#NAME}]: Contact |<p>The host's owner and contact.</p> |DEPENDENT |hpe.primera.host.contact["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].descriptors.contact.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |Host [{#NAME}]: IP Address |<p>The host's IP address.</p> |DEPENDENT |hpe.primera.host.ipaddress["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].descriptors.IPAddr.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |Host [{#NAME}]: Location |<p>The host's location.</p> |DEPENDENT |hpe.primera.host.location["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].descriptors.location.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |Host [{#NAME}]: Model |<p>The host's model.</p> |DEPENDENT |hpe.primera.host.model["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].descriptors.model.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |Host [{#NAME}]: OS |<p>The operating system running on the host.</p> |DEPENDENT |hpe.primera.host.os["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].descriptors.os.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1d`</p> |
|HPE |Port [{#NODE}:{#SLOT}:{#CARD_PORT}]: Failover State |<p>The state of the failover operation, shown for the two ports indicated in the N:S:P and Partner columns. The value can be one of the following:</p><p>none (1) - No failover in operation;</p><p>failover_pending (2) - In the process of failing over to partner;</p><p>failed_over (3) - Failed over to partner;</p><p>active (4) - The partner port is failed over to this port;</p><p>active_down (5) - The partner port is failed over to this port, but this port is down;</p><p>active_failed (6) - The partner port is failed over to this port, but this port is down;</p><p>failback_pending (7) - In the process of failing back from partner.</p> |DEPENDENT |hpe.primera.port.failover.state["{#NODE}:{#SLOT}:{#CARD_PORT}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.portPos.node == "{#NODE}" && @.portPos.slot == "{#SLOT}" && @.portPos.cardPort == "{#CARD_PORT}")].failoverState.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `10m`</p> |
|HPE |Port [{#NODE}:{#SLOT}:{#CARD_PORT}]: Link State |<p>Port link state:</p><p>CONFIG_WAIT (1) - Configuration wait;</p><p>ALPA_WAIT (2) - ALPA wait;</p><p>LOGIN_WAIT (3) - Login wait;</p><p>READY (4) - Link is ready;</p><p>LOSS_SYNC (5) - Link is loss sync;</p><p>ERROR_STATE (6) - In error state;</p><p>XXX (7) - xxx;</p><p>NONPARTICIPATE (8) - Link did not participate;</p><p>COREDUMP (9) - Taking coredump;</p><p>OFFLINE (10) - Link is offline;</p><p>FWDEAD (11) - Firmware is dead;</p><p>IDLE_FOR_RESET (12) - Link is idle for reset;</p><p>DHCP_IN_PROGRESS (13) - DHCP is in progress;</p><p>PENDING_RESET (14) - Link reset is pending;</p><p>NEW (15) - Link in new. This value is applicable for only virtual ports;</p><p>DISABLED (16) - Link in disabled. This value is applicable for only virtual ports;</p><p>DOWN (17) - Link in down. This value is applicable for only virtual ports;</p><p>FAILED (18) - Link in failed. This value is applicable for only virtual ports;</p><p>PURGING (19) - Link in purging. This value is applicable for only virtual ports.</p> |DEPENDENT |hpe.primera.port.link.state["{#NODE}:{#SLOT}:{#CARD_PORT}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.portPos.node == "{#NODE}" && @.portPos.slot == "{#SLOT}" && @.portPos.cardPort == "{#CARD_PORT}")].linkState.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `10m`</p> |
|HPE |Port [{#NODE}:{#SLOT}:{#CARD_PORT}]: Type |<p>Port connection type:</p><p>HOST (1) - FC port connected to hosts or fabric;</p><p>DISK (2) - FC port connected to disks;</p><p>FREE (3) - Port is not connected to hosts or disks;</p><p>IPORT (4) - Port is in iport mode;</p><p>RCFC (5) - FC port used for Remote Copy;</p><p>PEER (6) - FC port used for data migration;</p><p>RCIP (7) - IP (Ethernet) port used for Remote Copy;</p><p>ISCSI (8) - iSCSI (Ethernet) port connected to hosts;</p><p>CNA (9) - CNA port, which can be FCoE or iSCSI;</p><p>FS (10) - Ethernet File Persona ports.</p> |DEPENDENT |hpe.primera.port.type["{#NODE}:{#SLOT}:{#CARD_PORT}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.portPos.node == "{#NODE}" && @.portPos.slot == "{#SLOT}" && @.portPos.cardPort == "{#CARD_PORT}")].type.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `10m`</p> |
|HPE |Port [{#NODE}:{#SLOT}:{#CARD_PORT}]: Hardware type |<p>Hardware type:</p><p>FC (1) - Fibre channel HBA;</p><p>ETH (2) - Ethernet NIC;</p><p>iSCSI (3) - iSCSI HBA;</p><p>CNA (4) - Converged network adapter;</p><p>SAS (5) - SAS HBA;</p><p>COMBO (6) - Combo card;</p><p>NVME (7) - NVMe drive;</p><p>UNKNOWN (99) - Unknown hardware type.</p> |DEPENDENT |hpe.primera.port.hw.type["{#NODE}:{#SLOT}:{#CARD_PORT}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.portPos.node == "{#NODE}" && @.portPos.slot == "{#SLOT}" && @.portPos.cardPort == "{#CARD_PORT}")].hardwareType.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `10m`</p> |
|HPE |Task [{#NAME}]: Finish Time |<p>Task finish time.</p> |DEPENDENT |hpe.primera.task.finish.time["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].finishTime.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `6h`</p><p>- NOT_MATCHES_REGEX: `^-$`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- JAVASCRIPT: `The text is too long. Please see the template.`</p> |
|HPE |Task [{#NAME}]: Start Time |<p>Task start time.</p> |DEPENDENT |hpe.primera.task.start.time["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].startTime.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `6h`</p><p>- JAVASCRIPT: `The text is too long. Please see the template.`</p> |
|HPE |Task [{#NAME}]: Status |<p>Task status:</p><p>DONE (1) - Task is finished;</p><p>ACTIVE (2) - Task is in progress;</p><p>CANCELLED (3) - Task is canceled;</p><p>FAILED (4) - Task failed.</p> |DEPENDENT |hpe.primera.task.status["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].status.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `10m`</p> |
|HPE |Volume [{#NAME}]: Additional State |<p>Detailed state of the VV:</p><p>LDS_NOT_STARTED (1) - LDs not started.</p><p>NOT_STARTED (2) - VV not started.</p><p>NEEDS_CHECK (3) - Check for consistency.</p><p>NEEDS_MAINT_CHECK (4) - Maintenance check is required.</p><p>INTERNAL_CONSISTENCY_ERROR (5) - Internal consistency error.</p><p>SNAPDATA_INVALID (6) - Invalid snapshot data.</p><p>PRESERVED (7) - Unavailable LD sets due to missing chunklets. Preserved remaining VV data.</p><p>STALE (8) - Parts of the VV contain old data because of a copy-on-write operation.</p><p>COPY_FAILED (9) - A promote or copy operation to this volume failed.</p><p>DEGRADED_AVAIL (10) - Degraded due to availability.</p><p>DEGRADED_PERF (11) - Degraded due to performance.</p><p>PROMOTING (12) - Volume is the current target of a promote operation.</p><p>COPY_TARGET (13) - Volume is the current target of a physical copy operation.</p><p>RESYNC_TARGET (14) - Volume is the current target of a resynchronized copy operation.</p><p>TUNING (15) - Volume tuning is in progress.</p><p>CLOSING (16) - Volume is closing.</p><p>REMOVING (17) - Removing the volume.</p><p>REMOVING_RETRY (18) - Retrying a volume removal operation.</p><p>CREATING (19) - Creating a volume.</p><p>COPY_SOURCE (20) - Copy source.</p><p>IMPORTING (21) - Importing a volume.</p><p>CONVERTING (22) - Converting a volume.</p><p>INVALID (23) - Invalid.</p><p>EXCLUSIVE (24) - Local storage system has exclusive access to the volume.</p><p>CONSISTENT (25) - Volume is being imported consistently along with other volumes in the VV set.</p><p>STANDBY (26) - Volume in Standby mode.</p><p>SD_META_INCONSISTENT (27) - SD Meta Inconsistent.</p><p>SD_NEEDS_FIX (28) - SD needs fix.</p><p>SD_META_FIXING (29) - SD meta fix.</p><p>UNKNOWN (999) - Unknown state.</p><p>NOT_SUPPORTED_BY_WSAPI (1000) - State not supported by WSAPI.</p> |DEPENDENT |hpe.primera.volume.additional.states["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].additionalStates.first()`</p><p>- JAVASCRIPT: `return JSON.stringify(JSON.parse(value));`</p> |
|HPE |Volume [{#NAME}]: Administrative Free space |<p>Administrative space. Free space.</p> |DEPENDENT |hpe.primera.volume.admin.free.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].adminSpace.freeMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: Administrative Raw reserved space |<p>Administrative space. Raw reserved space.</p> |DEPENDENT |hpe.primera.volume.admin.raw.reserved.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].adminSpace.rawReservedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: Administrative reserved space |<p>Administrative space. Reserved space.</p> |DEPENDENT |hpe.primera.volume.admin.reserved.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].adminSpace.reservedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: Administrative used space |<p>Administrative space. Used space.</p> |DEPENDENT |hpe.primera.volume.admin.used.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].adminSpace.usedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: Compaction ratio |<p>Capacity efficiency. The compaction ratio indicates the overall amount of storage space saved with thin technology.</p> |DEPENDENT |hpe.primera.volume.capacity.efficiency.compaction["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].capacityEfficiency.compaction.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|HPE |Volume [{#NAME}]: Compression State |<p>Volume compression state:</p><p>YES (1) - Compression is enabled on the volume;</p><p>NO (2) - Compression is disabled on the volume;</p><p>OFF (3) - Compression is turned off;</p><p>NA (4) - Compression is not available on the volume.</p> |DEPENDENT |hpe.primera.volume.compression.state["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].compressionState.first()`</p> |
|HPE |Volume [{#NAME}]: Deduplication State |<p>Volume deduplication state:</p><p>YES (1) - Enables deduplication on the volume;</p><p>NO (2) - Disables deduplication on the volume;</p><p>NA (3) - Deduplication is not available;</p><p>OFF (4) - Deduplication is turned off.</p> |DEPENDENT |hpe.primera.volume.deduplication.state["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].deduplicationState.first()`</p> |
|HPE |Volume [{#NAME}]: Degraded State |<p>Volume detailed state:</p><p>LDS_NOT_STARTED (1) - LDs not started.</p><p>NOT_STARTED (2) - VV not started.</p><p>NEEDS_CHECK (3) - Check for consistency.</p><p>NEEDS_MAINT_CHECK (4) - Maintenance check is required.</p><p>INTERNAL_CONSISTENCY_ERROR (5) - Internal consistency error.</p><p>SNAPDATA_INVALID (6) - Invalid snapshot data.</p><p>PRESERVED (7) - Unavailable LD sets due to missing chunklets. Preserved remaining VV data.</p><p>STALE (8) - Parts of the VV contain old data because of a copy-on-write operation.</p><p>COPY_FAILED (9) - A promote or copy operation to this volume failed.</p><p>DEGRADED_AVAIL (10) - Degraded due to availability.</p><p>DEGRADED_PERF (11) - Degraded due to performance.</p><p>PROMOTING (12) - Volume is the current target of a promote operation.</p><p>COPY_TARGET (13) - Volume is the current target of a physical copy operation.</p><p>RESYNC_TARGET (14) - Volume is the current target of a resynchronized copy operation.</p><p>TUNING (15) - Volume tuning is in progress.</p><p>CLOSING (16) - Volume is closing.</p><p>REMOVING (17) - Removing the volume.</p><p>REMOVING_RETRY (18) - Retrying a volume removal operation.</p><p>CREATING (19) - Creating a volume.</p><p>COPY_SOURCE (20) - Copy source.</p><p>IMPORTING (21) - Importing a volume.</p><p>CONVERTING (22) - Converting a volume.</p><p>INVALID (23) - Invalid.</p><p>EXCLUSIVE (24) - Local storage system has exclusive access to the volume.</p><p>CONSISTENT (25) - Volume is being imported consistently along with other volumes in the VV set.</p><p>STANDBY (26) - Volume in Standby mode.</p><p>SD_META_INCONSISTENT (27) - SD Meta Inconsistent.</p><p>SD_NEEDS_FIX (28) - SD needs fix.</p><p>SD_META_FIXING (29) - SD meta fix.</p><p>UNKNOWN (999) - Unknown state.</p><p>NOT_SUPPORTED_BY_WSAPI (1000) - State not supported by WSAPI.</p> |DEPENDENT |hpe.primera.volume.degraded.state["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].degradedStates.first()`</p><p>- JAVASCRIPT: `return JSON.stringify(JSON.parse(value));`</p> |
|HPE |Volume [{#NAME}]: Failed State |<p>Volume detailed state:</p><p>LDS_NOT_STARTED (1) - LDs not started.</p><p>NOT_STARTED (2) - VV not started.</p><p>NEEDS_CHECK (3) - Check for consistency.</p><p>NEEDS_MAINT_CHECK (4) - Maintenance check is required.</p><p>INTERNAL_CONSISTENCY_ERROR (5) - Internal consistency error.</p><p>SNAPDATA_INVALID (6) - Invalid snapshot data.</p><p>PRESERVED (7) - Unavailable LD sets due to missing chunklets. Preserved remaining VV data.</p><p>STALE (8) - Parts of the VV contain old data because of a copy-on-write operation.</p><p>COPY_FAILED (9) - A promote or copy operation to this volume failed.</p><p>DEGRADED_AVAIL (10) - Degraded due to availability.</p><p>DEGRADED_PERF (11) - Degraded due to performance.</p><p>PROMOTING (12) - Volume is the current target of a promote operation.</p><p>COPY_TARGET (13) - Volume is the current target of a physical copy operation.</p><p>RESYNC_TARGET (14) - Volume is the current target of a resynchronized copy operation.</p><p>TUNING (15) - Volume tuning is in progress.</p><p>CLOSING (16) - Volume is closing.</p><p>REMOVING (17) - Removing the volume.</p><p>REMOVING_RETRY (18) - Retrying a volume removal operation.</p><p>CREATING (19) - Creating a volume.</p><p>COPY_SOURCE (20) - Copy source.</p><p>IMPORTING (21) - Importing a volume.</p><p>CONVERTING (22) - Converting a volume.</p><p>INVALID (23) - Invalid.</p><p>EXCLUSIVE (24) - Local storage system has exclusive access to the volume.</p><p>CONSISTENT (25) - Volume is being imported consistently along with other volumes in the VV set.</p><p>STANDBY (26) - Volume in Standby mode.</p><p>SD_META_INCONSISTENT (27) - SD Meta Inconsistent.</p><p>SD_NEEDS_FIX (28) - SD needs fix.</p><p>SD_META_FIXING (29) - SD meta fix.</p><p>UNKNOWN (999) - Unknown state.</p><p>NOT_SUPPORTED_BY_WSAPI (1000) - State not supported by WSAPI.</p> |DEPENDENT |hpe.primera.volume.failed.state["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].failedStates.first()`</p><p>- JAVASCRIPT: `return JSON.stringify(JSON.parse(value));`</p> |
|HPE |Volume [{#NAME}]: Overprovisioning ratio |<p>Capacity efficiency. Overprovisioning ratio.</p> |DEPENDENT |hpe.primera.volume.capacity.efficiency..overprovisioning["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].capacityEfficiency.overProvisioning.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|HPE |Volume [{#NAME}]: Remote Copy Status |<p>Remote Copy status of the volume:</p><p>NONE (1) - Volume is not associated with Remote Copy;</p><p>PRIMARY (2) - Volume is the primary copy;</p><p>SECONDARY (3) - Volume is the secondary copy;</p><p>SNAP (4) - Volume is the Remote Copy snapshot;</p><p>SYNC (5) - Volume is a Remote Copy snapshot being used for synchronization;</p><p>DELETE (6) - Volume is a Remote Copy snapshot that is marked for deletion;</p><p>UNKNOWN (99) - Remote Copy status is unknown for this volume.</p> |DEPENDENT |hpe.primera.volume.rcopy.status["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].rcopyStatus.first()`</p> |
|HPE |Volume [{#NAME}]: Snapshot Free space |<p>Snapshot space. Free space.</p> |DEPENDENT |hpe.primera.volume.snapshot.free.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].snapshotSpace.freeMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: Snapshot Raw reserved space |<p>Snapshot space. Raw reserved space.</p> |DEPENDENT |hpe.primera.volume.snapshot.raw.reserved.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].snapshotSpace.rawReservedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: Snapshot reserved space |<p>Snapshot space. Reserved space.</p> |DEPENDENT |hpe.primera.volume.snapshot.reserved.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].snapshotSpace.reservedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: Snapshot used space |<p>Snapshot space. Used space.</p> |DEPENDENT |hpe.primera.volume.snapshot.used.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].snapshotSpace.usedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: State |<p>State of the volume:</p><p>NORMAL (1) - Normal operation;</p><p>DEGRADED (2) - Degraded state;</p><p>FAILED (3) - Abnormal operation;</p><p>UNKNOWN (99) - Unknown state.</p> |DEPENDENT |hpe.primera.volume.state["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].state.first()`</p> |
|HPE |Volume [{#NAME}]: Storage space saved using compression |<p>Indicates the amount of storage space saved using compression.</p> |DEPENDENT |hpe.primera.volume.capacity.efficiency.compression["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].capacityEfficiency.compression.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `6h`</p> |
|HPE |Volume [{#NAME}]: Storage space saved using deduplication |<p>Indicates the amount of storage space saved using deduplication.</p> |DEPENDENT |hpe.primera.volume.capacity.efficiency.deduplication["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].capacityEfficiency.deduplication.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|HPE |Volume [{#NAME}]: Storage space saved using deduplication and compression |<p>Capacity efficiency. Indicates the amount of storage space saved using deduplication and compression together.</p> |DEPENDENT |hpe.primera.volume.capacity.efficiency.data.reduction["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].capacityEfficiency.dataReduction.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p> |
|HPE |Volume [{#NAME}]: Total Reserved Size |<p>Total Reserved space.</p> |DEPENDENT |hpe.primera.volume.total.reserved["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].totalReservedMiB.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: Total Size |<p>Virtual size of volume.</p> |DEPENDENT |hpe.primera.volume.size["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].sizeMiB.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: Total Used Size |<p>Total used space. Sum of used UserSpace and used Snapshot space.</p> |DEPENDENT |hpe.primera.volume.total.used["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].totalUsedMiB.first()`</p><p>⛔️ON_FAIL: `DISCARD_VALUE -> `</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: User Free space |<p>User space. Free space.</p> |DEPENDENT |hpe.primera.volume.user.free.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].userSpace.freeMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: User Raw reserved space |<p>User space. Raw reserved space.</p> |DEPENDENT |hpe.primera.volume.user.raw.reserved.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].userSpace.rawReservedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: User reserved space |<p>User space. Reserved space.</p> |DEPENDENT |hpe.primera.volume.user.reserved.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].userSpace.reservedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `12h`</p><p>- MULTIPLIER: `1048576`</p> |
|HPE |Volume [{#NAME}]: User used space |<p>User space. Used space.</p> |DEPENDENT |hpe.primera.volume.user.used.space["{#NAME}"]<p>**Preprocessing**:</p><p>- JSONPATH: `$[?(@.name == "{#NAME}")].userSpace.usedMiB.first()`</p><p>- DISCARD_UNCHANGED_HEARTBEAT: `1h`</p><p>- MULTIPLIER: `1048576`</p> |

## Triggers

|Name|Description|Expression|Severity|Dependencies and additional info|
|----|-----------|----|----|----|
|HPE Primera: The host is not available by API |<p>ID from system information is 0 or can not retrieve system information.</p> |`last(/HPE Primera by HTTP/hpe.primera.system.health)=0` |HIGH | |
|CPG [{#NAME}]: Degraded |<p>CPG [{#NAME}] in degraded state.</p> |`last(/HPE Primera by HTTP/hpe.primera.cpg.state["{#NAME}"])=2` |AVERAGE | |
|CPG [{#NAME}]: Failed |<p>CPG [{#NAME}] in failed state.</p> |`last(/HPE Primera by HTTP/hpe.primera.cpg.state["{#NAME}"])=3` |HIGH | |
|Disk [{#POSITION}]: Degraded |<p>Disk [{#POSITION}] in degraded state.</p> |`last(/HPE Primera by HTTP/hpe.primera.disk.state["{#POSITION}"])=2` |AVERAGE | |
|Disk [{#POSITION}]: Failed |<p>Disk [{#POSITION}] in failed state.</p> |`last(/HPE Primera by HTTP/hpe.primera.disk.state["{#POSITION}"])=3` |HIGH | |
|Disk [{#POSITION}]: Unknown issue |<p>Disk [{#POSITION}] in unknown state.</p> |`last(/HPE Primera by HTTP/hpe.primera.disk.state["{#POSITION}"])=99` |INFO | |
|Port [{#NODE}:{#SLOT}:{#CARD_PORT}]: Failover state is {ITEM.VALUE1} |<p>Port [{#NODE}:{#SLOT}:{#CARD_PORT}] has failover error.</p> |`last(/HPE Primera by HTTP/hpe.primera.port.failover.state["{#NODE}:{#SLOT}:{#CARD_PORT}"])<>1 and last(/HPE Primera by HTTP/hpe.primera.port.failover.state["{#NODE}:{#SLOT}:{#CARD_PORT}"])<>4` |AVERAGE | |
|Port [{#NODE}:{#SLOT}:{#CARD_PORT}]: Link state is {ITEM.VALUE1} |<p>Port [{#NODE}:{#SLOT}:{#CARD_PORT}] not in ready state.</p> |`last(/HPE Primera by HTTP/hpe.primera.port.link.state["{#NODE}:{#SLOT}:{#CARD_PORT}"])<>4` |HIGH | |
|Task [{#NAME}]: Cancelled |<p>Task [{#NAME}] is cancelled.</p> |`last(/HPE Primera by HTTP/hpe.primera.task.status["{#NAME}"])=3` |INFO | |
|Task [{#NAME}]: Failed |<p>Task [{#NAME}] is failed.</p> |`last(/HPE Primera by HTTP/hpe.primera.task.status["{#NAME}"])=4` |AVERAGE | |
|Volume [{#NAME}]: Degraded |<p>Volume [{#NAME}] in degraded state.</p> |`last(/HPE Primera by HTTP/hpe.primera.volume.state["{#NAME}"])=2` |AVERAGE | |
|Volume [{#NAME}]: Failed |<p>Volume [{#NAME}] in failed state.</p> |`last(/HPE Primera by HTTP/hpe.primera.volume.state["{#NAME}"])=3` |HIGH | |

## Feedback

Please report any issues with the template at https://support.zabbix.com

You can also provide feedback, discuss the template or ask for help with it at [ZABBIX forums](https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/).

