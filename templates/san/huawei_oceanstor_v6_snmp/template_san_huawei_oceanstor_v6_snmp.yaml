zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: 7c2cb727f85b492d88cd56e17127c64d
      name: Templates/SAN
  templates:
    - uuid: a756ba32e05944a6a0dbc1121c66ee47
      template: 'Huawei OceanStor V6 by SNMP'
      name: 'Huawei OceanStor V6 by SNMP'
      description: |
        The template to monitor SAN Huawei OceanStor V6 by Zabbix SNMP agent.
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/418855-discussion-thread-for-official-zabbix-template-huawei-oceanstor
        
        Generated by official Zabbix template tool "Templator"
      vendor:
        name: Zabbix
        version: 7.0-0
      groups:
        - name: Templates/SAN
      items:
        - uuid: b1b27fc308a643c080ca461aa43ac155
          name: 'BBU SNMP walk'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.34774.4.1.23.5.5.1.1,1.3.6.1.4.1.34774.4.1.23.5.5.1.2,1.3.6.1.4.1.34774.4.1.23.5.5.1.3,1.3.6.1.4.1.34774.4.1.23.5.5.1.4]'
          key: huawei.oceanstor.v6.bbu.snmp.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Discovering device backup battery units.'
          tags:
            - tag: component
              value: raw
        - uuid: afe9634aa31644e3834166c32c34c31e
          name: 'Capacity total'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.34774.4.1.1.5.0]'
          key: huawei.oceanstor.v6.capacity.total
          units: B
          description: 'Total capacity of a device.'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1048576'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: storage
        - uuid: 59f611414b0e4bc292819068c0138a9e
          name: 'Capacity used'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.34774.4.1.1.4.0]'
          key: huawei.oceanstor.v6.capacity.used
          units: B
          description: 'Used capacity of a device.'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1048576'
          tags:
            - tag: component
              value: storage
        - uuid: 251875b1bf7f4aea800eebdf826c92cc
          name: 'Controller SNMP walk'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.34774.4.1.23.5.2.1.1,1.3.6.1.4.1.34774.4.1.23.5.2.1.8,1.3.6.1.4.1.34774.4.1.23.5.2.1.9,1.3.6.1.4.1.34774.4.1.23.5.2.1.2,1.3.6.1.4.1.34774.4.1.23.5.2.1.3,1.3.6.1.4.1.34774.4.1.23.5.2.1.6]'
          key: huawei.oceanstor.v6.controller.snmp.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Discovering device controllers.'
          tags:
            - tag: component
              value: raw
        - uuid: 502c0446b3ac4c7c91fb81076e8fded0
          name: 'Disk SNMP walk'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.34774.4.1.23.5.1.1.1,1.3.6.1.4.1.34774.4.1.23.5.1.1.12,1.3.6.1.4.1.34774.4.1.23.5.1.1.4,1.3.6.1.4.1.34774.4.1.23.5.1.1.2,1.3.6.1.4.1.34774.4.1.23.5.1.1.3,1.3.6.1.4.1.34774.4.1.23.5.1.1.11,1.3.6.1.4.1.34774.4.1.23.5.1.1.25]'
          key: huawei.oceanstor.v6.disk.snmp.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Discovering device disks.'
          tags:
            - tag: component
              value: raw
        - uuid: dc3f094725ff4794844687d4037ea2c2
          name: 'Enclosure SNMP walk'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.34774.4.1.23.5.6.1.2,1.3.6.1.4.1.34774.4.1.23.5.6.1.4,1.3.6.1.4.1.34774.4.1.23.5.6.1.5,1.3.6.1.4.1.34774.4.1.23.5.6.1.8]'
          key: huawei.oceanstor.v6.enclosure.snmp.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Discovering device enclosures.'
          tags:
            - tag: component
              value: raw
        - uuid: fe922a88992f49f9a6bf4ed080c880d7
          name: 'FAN SNMP walk'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.34774.4.1.23.5.4.1.1,1.3.6.1.4.1.34774.4.1.23.5.4.1.2,1.3.6.1.4.1.34774.4.1.23.5.4.1.3,1.3.6.1.4.1.34774.4.1.23.5.4.1.4]'
          key: huawei.oceanstor.v6.fan.snmp.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Discovering device fans.'
          tags:
            - tag: component
              value: raw
        - uuid: 269a95fbb3ce4f1eb9dc684777875d87
          name: 'LUN SNMP walk'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.34774.4.1.19.9.4.1.2,1.3.6.1.4.1.34774.4.1.19.9.4.1.11,1.3.6.1.4.1.34774.4.1.21.4.1.13,1.3.6.1.4.1.34774.4.1.21.4.1.15,1.3.6.1.4.1.34774.4.1.21.4.1.16,1.3.6.1.4.1.34774.4.1.21.4.1.3,1.3.6.1.4.1.34774.4.1.21.4.1.4,1.3.6.1.4.1.34774.4.1.21.4.1.5,1.3.6.1.4.1.34774.4.1.21.4.1.6,1.3.6.1.4.1.34774.4.1.21.4.1.7,1.3.6.1.4.1.34774.4.1.21.4.1.8,1.3.6.1.4.1.34774.4.1.19.9.4.1.5]'
          key: huawei.oceanstor.v6.lun.snmp.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Discovering device logical unit numbers.'
          tags:
            - tag: component
              value: raw
        - uuid: 2170d4e5ca684e579dd511e59e5e9828
          name: 'Node SNMP walk'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.34774.4.1.21.3.1.1,1.3.6.1.4.1.34774.4.1.21.3.1.2,1.3.6.1.4.1.34774.4.1.21.3.1.5,1.3.6.1.4.1.34774.4.1.21.3.1.6,1.3.6.1.4.1.34774.4.1.21.3.1.7,1.3.6.1.4.1.34774.4.1.21.3.1.8,1.3.6.1.4.1.34774.4.1.21.3.1.9,1.3.6.1.4.1.34774.4.1.21.3.1.10]'
          key: huawei.oceanstor.v6.node.snmp.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Discovering device nodes.'
          tags:
            - tag: component
              value: raw
        - uuid: 5daf9372f493406c818b27f5149dcff3
          name: 'Storage pool SNMP walk'
          type: SNMP_AGENT
          snmp_oid: 'walk[1.3.6.1.4.1.34774.4.1.23.4.2.1.2,1.3.6.1.4.1.34774.4.1.23.4.2.1.14,1.3.6.1.4.1.34774.4.1.23.4.2.1.5,1.3.6.1.4.1.34774.4.1.23.4.2.1.6,1.3.6.1.4.1.34774.4.1.23.4.2.1.7,1.3.6.1.4.1.34774.4.1.23.4.2.1.9]'
          key: huawei.oceanstor.v6.pool.snmp.walk
          history: '0'
          value_type: TEXT
          trends: '0'
          description: 'Discovering device storage pools.'
          tags:
            - tag: component
              value: raw
        - uuid: 41eb993590fb47de997a2305e463f2a8
          name: Status
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.34774.4.1.1.3.0]'
          key: huawei.oceanstor.v6.status
          description: 'System running status.'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: health
            - tag: component
              value: system
        - uuid: b9718573a3894948b33cd7992fb70793
          name: Version
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.34774.4.1.1.6.0]'
          key: huawei.oceanstor.v6.version
          value_type: CHAR
          trends: '0'
          description: 'The device version.'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: bb9b6ef427c144b2a0b5ce6a08ad8e03
              expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.version,#1)<>last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.version,#2) and length(last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.version))>0'
              name: 'OceanStor V6: Storage version has been changed'
              event_name: 'OceanStor V6: Version has changed (new version: {ITEM.VALUE})'
              priority: INFO
              description: 'OceanStor V6 version has changed.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: 70979704d42c4a1f81a7a41c612d895f
          name: 'ICMP ping'
          type: SIMPLE
          key: icmpping
          valuemap:
            name: 'Service state'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 9ce3b07c13cf44609680d98cc8c7f916
              expression: 'max(/Huawei OceanStor V6 by SNMP/icmpping,#3)=0'
              name: 'Unavailable by ICMP ping'
              priority: HIGH
              description: 'Last three attempts returned timeout.  Please check device connectivity.'
              tags:
                - tag: scope
                  value: availability
        - uuid: 37d0ea29ec4940968f97f56fd45fcef7
          name: 'ICMP loss'
          type: SIMPLE
          key: icmppingloss
          value_type: FLOAT
          units: '%'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 9fd65c90c53642f6ab22ec6ee640c1e5
              expression: 'min(/Huawei OceanStor V6 by SNMP/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/Huawei OceanStor V6 by SNMP/icmppingloss,5m)<100'
              name: 'High ICMP ping loss'
              opdata: 'Loss: {ITEM.LASTVALUE1}'
              priority: WARNING
              dependencies:
                - name: 'Unavailable by ICMP ping'
                  expression: 'max(/Huawei OceanStor V6 by SNMP/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: d4c8792f16b741aa9dc08b35aef55d58
          name: 'ICMP response time'
          type: SIMPLE
          key: icmppingsec
          value_type: FLOAT
          units: s
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 3c819e8ddd8e436180114a3d192b9f78
              expression: 'avg(/Huawei OceanStor V6 by SNMP/icmppingsec,5m)>{$ICMP_RESPONSE_TIME_WARN}'
              name: 'High ICMP ping response time'
              opdata: 'Value: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Average ICMP response time is too high.'
              dependencies:
                - name: 'High ICMP ping loss'
                  expression: 'min(/Huawei OceanStor V6 by SNMP/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/Huawei OceanStor V6 by SNMP/icmppingloss,5m)<100'
                - name: 'Unavailable by ICMP ping'
                  expression: 'max(/Huawei OceanStor V6 by SNMP/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: c53b75b3ecca43cd81dbe6fee6377f98
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          value_type: LOG
          trends: '0'
          description: 'The item is used to collect all SNMP traps unmatched by other snmptrap items'
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            - tag: component
              value: network
        - uuid: d96da8b691b4445897e45542b978cf1c
          name: 'System contact details'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.4.0
          key: 'system.contact[sysContact.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 9bf994453c3e4b0a872eacf228d22081
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.1.0
          key: 'system.descr[sysDescr.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should
            include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 83a04e971273423bb472ce598eb09073
          name: 'Uptime (hardware)'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.25.1.1.0
          key: 'system.hw.uptime[hrSystemUptime.0]'
          delay: 30s
          trends: '0'
          units: uptime
          description: |
            MIB: HOST-RESOURCES-MIB
            The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.
          preprocessing:
            - type: CHECK_NOT_SUPPORTED
              parameters:
                - '-1'
              error_handler: CUSTOM_VALUE
              error_handler_params: '0'
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 7ff0083f2a05468f8f74019c13c34fe7
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.6.0
          key: 'system.location[sysLocation.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            Physical location of the node (e.g., `equipment room`, `3rd floor`). If not provided, the value is a zero-length string.
          inventory_link: LOCATION
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 42f49f401dbc47f18dd53237036ff025
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.5.0
          key: system.name
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name.  If the name is unknown, the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: bfd3caf24c2d4cfeaf1f762bb1a37b33
              expression: 'last(/Huawei OceanStor V6 by SNMP/system.name,#1)<>last(/Huawei OceanStor V6 by SNMP/system.name,#2) and length(last(/Huawei OceanStor V6 by SNMP/system.name))>0'
              name: 'System name has changed'
              event_name: 'System name has changed (new name: {ITEM.VALUE})'
              priority: INFO
              description: 'The name of the system has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
                - tag: scope
                  value: security
        - uuid: fa41835191fb4d84945fd3eff3af85b9
          name: 'Uptime (network)'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.3.0
          key: 'system.net.uptime[sysUpTime.0]'
          delay: 30s
          trends: '0'
          units: uptime
          description: |
            MIB: SNMPv2-MIB
            Time (in hundredths of a second) since the network management portion of the system was last re-initialized.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 2070bbe5f74d43ba954ab94c2fd425d7
          name: 'System object ID'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.2.0
          key: 'system.objectid[sysObjectID.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The vendor's authoritative identification of the network management subsystem contained in the entity.  This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 81bc0e11253f4b9a82741339de528307
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          description: |
            Availability of SNMP checks on the host. The value of this item corresponds to availability icons in the host list.
            Possible values:
            0 - not available
            1 - available
            2 - unknown
          valuemap:
            name: zabbix.host.available
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: d102d1454e4849f7b28e7b9c9e56ae32
              expression: 'max(/Huawei OceanStor V6 by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'SNMP is not available for polling. Please check device connectivity and SNMP settings.'
              dependencies:
                - name: 'Unavailable by ICMP ping'
                  expression: 'max(/Huawei OceanStor V6 by SNMP/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
      discovery_rules:
        - uuid: cea22e4b397e4d2381689ba1cc05309f
          name: 'BBU discovery'
          type: DEPENDENT
          key: huawei.oceanstor.v6.bbu.discovery
          delay: '0'
          description: 'Discovery of BBU.'
          item_prototypes:
            - uuid: 50dbaf3a551048fcb44c7561306d01b8
              name: 'BBU [{#ID}] on [{#LOCATION}]: Health status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.bbu.health_status["{#ID}:{#LOCATION}"]'
              delay: '0'
              description: 'Health status of a BBU.'
              valuemap:
                name: 'Huawei storage: Health status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.5.1.3.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.bbu.snmp.walk
              tags:
                - tag: bbu
                  value: '{#ID}'
                - tag: component
                  value: health
                - tag: component
                  value: power
                - tag: location
                  value: '{#LOCATION}'
              trigger_prototypes:
                - uuid: ebfc0e6462a441c0bf0b4b7b2dab7499
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.bbu.health_status["{#ID}:{#LOCATION}"])<>1'
                  name: 'BBU [{#ID}] on [{#LOCATION}]: Health status is not Normal'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: availability
            - uuid: d65649266623411d88d7087c2dd396fb
              name: 'BBU [{#ID}] on [{#LOCATION}]: Running status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.bbu.runnnig_status["{#ID}:{#LOCATION}"]'
              delay: '0'
              description: 'Running status of a BBU.'
              valuemap:
                name: 'Huawei storage: Running status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.5.1.4.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.bbu.snmp.walk
              tags:
                - tag: bbu
                  value: '{#ID}'
                - tag: component
                  value: health
                - tag: component
                  value: power
                - tag: location
                  value: '{#LOCATION}'
              trigger_prototypes:
                - uuid: 9819288b70734d3ea81cf4b4c8649861
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.bbu.runnnig_status["{#ID}:{#LOCATION}"])<>27'
                  name: 'BBU [{#ID}] on [{#LOCATION}]: Running status is not Online'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
          master_item:
            key: huawei.oceanstor.v6.bbu.snmp.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#ID}'
                - 1.3.6.1.4.1.34774.4.1.23.5.5.1.1
                - '0'
                - '{#LOCATION}'
                - 1.3.6.1.4.1.34774.4.1.23.5.5.1.2
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: 54e4999dca8246aa8656ae0778227f74
          name: 'Controller discovery'
          type: DEPENDENT
          key: huawei.oceanstor.v6.controller.discovery
          delay: '0'
          description: 'Discovery of controllers.'
          item_prototypes:
            - uuid: b42945ca7edd495cb15c106b6daa3da0
              name: 'Controller [{#ID}]: CPU utilization'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.controller.cpu["{#ID}"]'
              delay: '0'
              value_type: FLOAT
              units: '%'
              description: 'CPU usage of a controller {#ID}.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.2.1.8.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: huawei.oceanstor.v6.controller.snmp.walk
              tags:
                - tag: component
                  value: cpu
                - tag: controller
                  value: '{#ID}'
              trigger_prototypes:
                - uuid: 5a4f1cd9436840d4ab1312d049af9261
                  expression: 'min(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.controller.cpu["{#ID}"],5m)>{$CPU.UTIL.CRIT}'
                  name: 'Controller [{#ID}]: High CPU utilization'
                  event_name: 'Controller [{#ID}]: High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)'
                  opdata: 'Current utilization: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'The CPU utilization is too high. The system might be slow to respond.'
                  tags:
                    - tag: scope
                      value: performance
            - uuid: 53c1d59c4ac940d88cc9214fe1089725
              name: 'Controller [{#ID}]: Health status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.controller.health_status["{#ID}"]'
              delay: '0'
              description: 'Controller health status.'
              valuemap:
                name: 'Huawei storage: Health status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.2.1.2.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.controller.snmp.walk
              tags:
                - tag: component
                  value: health
                - tag: controller
                  value: '{#ID}'
              trigger_prototypes:
                - uuid: 74b86cceb52d404391d2ebfd50023c59
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.controller.health_status["{#ID}"])<>1'
                  name: 'Controller [{#ID}]: Health status is not Normal'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 58defbb4f905496795d71fe1c0b6eb72
              name: 'Controller [{#ID}]: Memory utilization'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.controller.memory["{#ID}"]'
              delay: '0'
              value_type: FLOAT
              units: '%'
              description: 'Memory usage of a controller {#ID}.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.2.1.9.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: huawei.oceanstor.v6.controller.snmp.walk
              tags:
                - tag: component
                  value: memory
                - tag: controller
                  value: '{#ID}'
              trigger_prototypes:
                - uuid: 30ed10a742c3491685cdc06395e779b9
                  expression: 'min(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.controller.memory["{#ID}"],{$HUAWEI.OCEANSTOR_V6.MEM.MAX.TIME})>{$HUAWEI.OCEANSTOR_V6.MEM.MAX.WARN}'
                  name: 'Controller [{#ID}]: Memory usage is too high'
                  event_name: 'Controller [{#ID}]: Memory usage is too high (over {$HUAWEI.OCEANSTOR_V6.MEM.MAX.WARN} for {$HUAWEI.OCEANSTOR_V6.MEM.MAX.TIME})'
                  opdata: 'Current memory usage: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: performance
            - uuid: cf15979a3a304d708c8ba363eab25efe
              name: 'Controller [{#ID}]: Role'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.controller.role["{#ID}"]'
              delay: '0'
              description: 'Controller role.'
              valuemap:
                name: 'Huawei storage: Controller role'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.2.1.6.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.controller.snmp.walk
              tags:
                - tag: component
                  value: system
                - tag: controller
                  value: '{#ID}'
              trigger_prototypes:
                - uuid: aa73b5b57517428aaae377014ae29183
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.controller.role["{#ID}"],#1)<>last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.controller.role["{#ID}"],#2)'
                  name: 'Controller [{#ID}]: Role has been changed'
                  opdata: 'Current role: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 3a0e447c0a454f0aaf54ccc17dc7ff60
              name: 'Controller [{#ID}]: Running status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.controller.runnnig_status["{#ID}"]'
              delay: '0'
              description: 'Controller running status.'
              valuemap:
                name: 'Huawei storage: Running status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.2.1.3.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.controller.snmp.walk
              tags:
                - tag: component
                  value: health
                - tag: controller
                  value: '{#ID}'
              trigger_prototypes:
                - uuid: 3b1fdea2c8bb4c63b38713476ff8131e
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.controller.runnnig_status["{#ID}"])<>27'
                  name: 'Controller [{#ID}]: Running status is not Online'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
          graph_prototypes:
            - uuid: 711df28e1d2b476cb38268a52c8a57b7
              name: 'Controller [{#ID}]: CPU utilization'
              ymin_type_1: FIXED
              ymax_type_1: FIXED
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 199C0D
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.controller.cpu["{#ID}"]'
          master_item:
            key: huawei.oceanstor.v6.controller.snmp.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#ID}'
                - 1.3.6.1.4.1.34774.4.1.23.5.2.1.1
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: ee761856e9b9451f80326dd819446b98
          name: 'Disk discovery'
          type: DEPENDENT
          key: huawei.oceanstor.v6.disk.discovery
          delay: '0'
          description: 'Discovery of disks.'
          item_prototypes:
            - uuid: 260efff2e30e44668454f16b8b639488
              name: 'Disk [{#MODEL}] on [{#LOCATION}]: Health status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.disk.health_status["{#ID}"]'
              delay: '0'
              description: 'Disk health status.'
              valuemap:
                name: 'Huawei storage: Health status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.1.1.2.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.disk.snmp.walk
              tags:
                - tag: component
                  value: health
                - tag: disk
                  value: '{#MODEL}'
                - tag: location
                  value: '{#LOCATION}'
              trigger_prototypes:
                - uuid: 7d51c46ed1f3451d89b72ed4defeb430
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.disk.health_status["{#ID}"])<>1'
                  name: 'Disk [{#MODEL}] on [{#LOCATION}]: Health status is not Normal'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: availability
            - uuid: e93cb24c47294fd5854e5eef53a7b1de
              name: 'Disk [{#MODEL}] on [{#LOCATION}]: Running status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.disk.runnnig_status["{#ID}"]'
              delay: '0'
              description: 'Disk running status.'
              valuemap:
                name: 'Huawei storage: Running status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.1.1.3.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.disk.snmp.walk
              tags:
                - tag: component
                  value: health
                - tag: disk
                  value: '{#MODEL}'
                - tag: location
                  value: '{#LOCATION}'
              trigger_prototypes:
                - uuid: 43604005baf44569a85a1bfe84e3e550
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.disk.runnnig_status["{#ID}"])<>27'
                  name: 'Disk [{#MODEL}] on [{#LOCATION}]: Running status is not Online'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 1a40aabfc7284b6a848b9d5b9834d11b
              name: 'Disk [{#MODEL}] on [{#LOCATION}]: Temperature'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.disk.temperature["{#ID}"]'
              delay: '0'
              units: °C
              description: 'Disk temperature.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.1.1.11.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: huawei.oceanstor.v6.disk.snmp.walk
              tags:
                - tag: component
                  value: environment
                - tag: disk
                  value: '{#MODEL}'
                - tag: location
                  value: '{#LOCATION}'
              trigger_prototypes:
                - uuid: 9067dcdd47a84a02be87de5fff13ebad
                  expression: 'min(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.disk.temperature["{#ID}"],{$HUAWEI.OCEANSTOR_V6.DISK.TEMP.MAX.TIME})>{$HUAWEI.OCEANSTOR_V6.DISK.TEMP.MAX.WARN:"{#MODEL}"}'
                  name: 'Disk [{#MODEL}] on [{#LOCATION}]: Temperature is too high'
                  event_name: 'Disk [{#MODEL}] on [{#LOCATION}]: Temperature is too high (over {$HUAWEI.OCEANSTOR_V6.DISK.TEMP.MAX.WARN:"{#MODEL}"} for {$HUAWEI.OCEANSTOR_V6.DISK.TEMP.MAX.TIME})'
                  opdata: 'Current value: {ITEM.LASTVALUE}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: notice
          master_item:
            key: huawei.oceanstor.v6.disk.snmp.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#ID}'
                - 1.3.6.1.4.1.34774.4.1.23.5.1.1.1
                - '0'
                - '{#MODEL}'
                - 1.3.6.1.4.1.34774.4.1.23.5.1.1.12
                - '0'
                - '{#LOCATION}'
                - 1.3.6.1.4.1.34774.4.1.23.5.1.1.4
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: fe6e9ac0f6e94e31b16ce5f8b19c4a00
          name: 'Enclosure discovery'
          type: DEPENDENT
          key: huawei.oceanstor.v6.enclosure.discovery
          delay: '0'
          description: 'Discovery of enclosures.'
          item_prototypes:
            - uuid: 5438437c4dca4105b16229c3f6446b10
              name: 'Enclosure [{#NAME}]: Health status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.enclosure.health_status["{#NAME}"]'
              delay: '0'
              description: 'Enclosure health status.'
              valuemap:
                name: 'Huawei storage: Health status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.6.1.4.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.enclosure.snmp.walk
              tags:
                - tag: component
                  value: health
                - tag: enclosure
                  value: '{#NAME}'
              trigger_prototypes:
                - uuid: 7d5de7084c6b4298967679dc371d83da
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.enclosure.health_status["{#NAME}"])<>1'
                  name: 'Enclosure [{#NAME}]: Health status is not Normal'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 6109abefad0e47bf806b2c8c1d5cecb6
              name: 'Enclosure [{#NAME}]: Running status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.enclosure.runnnig_status["{#NAME}"]'
              delay: '0'
              description: 'Enclosure running status.'
              valuemap:
                name: 'Huawei storage: Running status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.6.1.5.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.enclosure.snmp.walk
              tags:
                - tag: component
                  value: health
                - tag: enclosure
                  value: '{#NAME}'
              trigger_prototypes:
                - uuid: d98542189b9b406d842ed4f1afd1c423
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.enclosure.runnnig_status["{#NAME}"])<>27'
                  name: 'Enclosure [{#NAME}]: Running status is not Online'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 646bb3b045fa4c6a874c10d870f40149
              name: 'Enclosure [{#NAME}]: Temperature'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.enclosure.temperature["{#NAME}"]'
              delay: '0'
              units: °C
              description: 'Enclosure temperature.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.6.1.8.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: huawei.oceanstor.v6.enclosure.snmp.walk
              tags:
                - tag: component
                  value: environment
                - tag: enclosure
                  value: '{#NAME}'
              trigger_prototypes:
                - uuid: a991a89865e749feb615434670101ccd
                  expression: 'min(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.enclosure.temperature["{#NAME}"],{$HUAWEI.OCEANSTOR_V6.TEMP.MAX.TIME})>{$HUAWEI.OCEANSTOR_V6.TEMP.MAX.WARN}'
                  name: 'Enclosure [{#NAME}]: Temperature is too high'
                  event_name: 'Enclosure [{#NAME}]: Temperature is too high (over {$HUAWEI.OCEANSTOR_V6.TEMP.MAX.WARN} for {$HUAWEI.OCEANSTOR_V6.TEMP.MAX.TIME})'
                  opdata: 'Current value: {ITEM.LASTVALUE}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: notice
          master_item:
            key: huawei.oceanstor.v6.enclosure.snmp.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#NAME}'
                - 1.3.6.1.4.1.34774.4.1.23.5.6.1.2
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: 777c9cd7b2584ef0888048c0618a8b8d
          name: 'Fan discovery'
          type: DEPENDENT
          key: huawei.oceanstor.v6.fan.discovery
          delay: '0'
          description: 'Discovery of FANs.'
          item_prototypes:
            - uuid: e57f7ac41b444f1988e401a78d18b8cc
              name: 'FAN [{#ID}] on [{#LOCATION}]: Health status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.fan.health_status["{#ID}:{#LOCATION}"]'
              delay: '0'
              description: 'Health status of a fan.'
              valuemap:
                name: 'Huawei storage: Health status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.4.1.3.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.fan.snmp.walk
              tags:
                - tag: component
                  value: health
                - tag: fan
                  value: '{#ID}'
                - tag: location
                  value: '{#LOCATION}'
              trigger_prototypes:
                - uuid: 294360f7e14e410a85bbb7b62b298a06
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.fan.health_status["{#ID}:{#LOCATION}"])<>1'
                  name: 'FAN [{#ID}] on [{#LOCATION}]: Health status is not Normal'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 333fec4bf1e5404e9a76e76231d6415c
              name: 'FAN [{#ID}] on [{#LOCATION}]: Running status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.fan.runnnig_status["{#ID}:{#LOCATION}"]'
              delay: '0'
              description: 'Operating status of a fan.'
              valuemap:
                name: 'Huawei storage: Running status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.5.4.1.4.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.fan.snmp.walk
              tags:
                - tag: component
                  value: health
                - tag: fan
                  value: '{#ID}'
                - tag: location
                  value: '{#LOCATION}'
              trigger_prototypes:
                - uuid: 95ea84d081d94fe583c16bc48291d680
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.fan.runnnig_status["{#ID}:{#LOCATION}"])<>2'
                  name: 'FAN [{#ID}] on [{#LOCATION}]: Running status is not Running'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
          master_item:
            key: huawei.oceanstor.v6.fan.snmp.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#ID}'
                - 1.3.6.1.4.1.34774.4.1.23.5.4.1.1
                - '0'
                - '{#LOCATION}'
                - 1.3.6.1.4.1.34774.4.1.23.5.4.1.2
                - '0'
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
        - uuid: 4af979a7917649dd970dfcbb9f5990e3
          name: 'LUN discovery'
          type: DEPENDENT
          key: huawei.oceanstor.v6.lun.discovery
          delay: '0'
          description: 'Discovery of LUNs.'
          item_prototypes:
            - uuid: 85006d842ce645a7a6b85578aa0b5c63
              name: 'LUN [{#NAME}]: Read traffic per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.lun.bps.read["{#NAME}"]'
              delay: '0'
              units: Bps
              description: 'Current read bandwidth for the LUN.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.4.1.7.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
              master_item:
                key: huawei.oceanstor.v6.lun.snmp.walk
              tags:
                - tag: component
                  value: traffic
                - tag: lun
                  value: '{#NAME}'
            - uuid: d395c29f22b54012af1e51e41c96ba8b
              name: 'LUN [{#NAME}]: Total traffic per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.lun.bps.total["{#NAME}"]'
              delay: '0'
              units: Bps
              description: 'Current total bandwidth for the LUN.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.4.1.6.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
              master_item:
                key: huawei.oceanstor.v6.lun.snmp.walk
              tags:
                - tag: component
                  value: traffic
                - tag: lun
                  value: '{#NAME}'
            - uuid: 80a049954ea545f8a76b96b9ba3ae9cd
              name: 'LUN [{#NAME}]: Write traffic per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.lun.bps.write["{#NAME}"]'
              delay: '0'
              units: Bps
              description: 'Current write bandwidth for the LUN.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.4.1.8.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
              master_item:
                key: huawei.oceanstor.v6.lun.snmp.walk
              tags:
                - tag: component
                  value: traffic
                - tag: lun
                  value: '{#NAME}'
            - uuid: ae93f24cf27343c1a9777155adb0ab2d
              name: 'LUN [{#NAME}]: Capacity'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.lun.capacity["{#NAME}"]'
              delay: '0'
              units: B
              description: 'Capacity of the LUN.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.19.9.4.1.5.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1024'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.lun.snmp.walk
              tags:
                - tag: component
                  value: traffic
                - tag: lun
                  value: '{#NAME}'
            - uuid: b5919a8515054bb2ba85810d5b22747b
              name: 'LUN [{#NAME}]: Read operations per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.lun.iops.read["{#NAME}"]'
              delay: '0'
              units: '!iops'
              description: 'Read IOPS of the node.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.4.1.4.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: huawei.oceanstor.v6.lun.snmp.walk
              tags:
                - tag: component
                  value: operations
                - tag: lun
                  value: '{#NAME}'
            - uuid: adfb46812a3848a79e7fd2f9ae8678d4
              name: 'LUN [{#NAME}]: Total I/O per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.lun.iops.total["{#NAME}"]'
              delay: '0'
              units: '!iops'
              description: 'Current IOPS of the LUN.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.4.1.3.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: huawei.oceanstor.v6.lun.snmp.walk
              tags:
                - tag: component
                  value: operations
                - tag: lun
                  value: '{#NAME}'
            - uuid: a44e74402e2647ecb7a812ddad334c73
              name: 'LUN [{#NAME}]: Write operations per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.lun.iops.write["{#NAME}"]'
              delay: '0'
              units: '!iops'
              description: 'Write IOPS of the node.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.4.1.5.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: huawei.oceanstor.v6.lun.snmp.walk
              tags:
                - tag: component
                  value: operations
                - tag: lun
                  value: '{#NAME}'
            - uuid: f2796e5a03ae442ebdfb45b6e4d635f6
              name: 'LUN [{#NAME}]: Average read I/O latency'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.lun.latency.read["{#NAME}"]'
              delay: '0'
              value_type: FLOAT
              units: s
              description: 'Average read I/O response time.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.4.1.15.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1.0E-6'
              master_item:
                key: huawei.oceanstor.v6.lun.snmp.walk
              tags:
                - tag: component
                  value: operations
                - tag: lun
                  value: '{#NAME}'
            - uuid: 3b7745d0226148538ecf23dfe3956263
              name: 'LUN [{#NAME}]: Average total I/O latency'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.lun.latency.total["{#NAME}"]'
              delay: '0'
              units: s
              description: 'Average I/O latency of the node.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.4.1.13.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1.0E-6'
              master_item:
                key: huawei.oceanstor.v6.lun.snmp.walk
              tags:
                - tag: component
                  value: operations
                - tag: lun
                  value: '{#NAME}'
              trigger_prototypes:
                - uuid: 2b398eb6be0f4e7e992273b5fb6118ce
                  expression: 'min(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.lun.latency.total["{#NAME}"],{$HUAWEI.OCEANSTOR_V6.LUN.IO.TIME.MAX.TIME})>{$HUAWEI.OCEANSTOR_V6.LUN.IO.TIME.MAX.WARN}'
                  name: 'LUN [{#NAME}]: Average I/O response time is too high'
                  event_name: 'LUN [{#NAME}]: Average I/O response time is too high (over {$HUAWEI.OCEANSTOR_V6.LUN.IO.TIME.MAX.WARN}μs for {$HUAWEI.OCEANSTOR_V6.LUN.IO.TIME.MAX.TIME})'
                  opdata: 'Current response time: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  tags:
                    - tag: scope
                      value: performance
            - uuid: c770c7bc88034436a71374138e1f4feb
              name: 'LUN [{#NAME}]: Average write I/O latency'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.lun.latency.write["{#NAME}"]'
              delay: '0'
              value_type: FLOAT
              units: s
              description: 'Average write I/O response time.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.4.1.16.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1.0E-6'
              master_item:
                key: huawei.oceanstor.v6.lun.snmp.walk
              tags:
                - tag: component
                  value: operations
                - tag: lun
                  value: '{#NAME}'
            - uuid: ad79e6cf340c4bd49f6b8bc8e11053d5
              name: 'LUN [{#NAME}]: Status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.lun.status["{#NAME}"]'
              delay: '0'
              description: 'Status of the LUN.'
              valuemap:
                name: 'Huawei storage: LUN status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.19.9.4.1.11.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.lun.snmp.walk
              tags:
                - tag: component
                  value: health
                - tag: lun
                  value: '{#NAME}'
              trigger_prototypes:
                - uuid: 876fa1bad1c94add9de79d09684ce30c
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.lun.status["{#NAME}"])<>1'
                  name: 'LUN [{#NAME}]: Status is not Normal'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
          graph_prototypes:
            - uuid: 21d62c59e5d84b808c7fa716fef1c5d8
              name: 'LUN [{#NAME}]: LUN I/O'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.lun.iops.total["{#NAME}"]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.lun.iops.read["{#NAME}"]'
                - sortorder: '2'
                  color: 00611C
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.lun.iops.write["{#NAME}"]'
            - uuid: 0e52a46c224b4ef89f9b061d4f1985be
              name: 'LUN [{#NAME}]: LUN I/O latency'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.lun.latency.total["{#NAME}"]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.lun.latency.read["{#NAME}"]'
                - sortorder: '2'
                  color: 00611C
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.lun.latency.write["{#NAME}"]'
            - uuid: cf6fba4833ac47bca5329694658440c1
              name: 'LUN [{#NAME}]: LUN traffic'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.lun.bps.total["{#NAME}"]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.lun.bps.read["{#NAME}"]'
                - sortorder: '2'
                  color: 00611C
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.lun.bps.write["{#NAME}"]'
          master_item:
            key: huawei.oceanstor.v6.lun.snmp.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#NAME}'
                - 1.3.6.1.4.1.34774.4.1.19.9.4.1.2
                - '0'
        - uuid: 62bfd7649837462a96b090e52543939b
          name: 'Node performance discovery'
          type: DEPENDENT
          key: huawei.oceanstor.v6.node.discovery
          delay: '0'
          description: 'Discovery of nodes performance counters.'
          item_prototypes:
            - uuid: 5c05041d4aae465e9b60f010b1a0e506
              name: 'Node [{#NODE}]: Read traffic per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.node.bps.read["{#NODE}"]'
              delay: '0'
              units: Bps
              description: 'Read bandwidth for the node.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.3.1.9.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
              master_item:
                key: huawei.oceanstor.v6.node.snmp.walk
              tags:
                - tag: component
                  value: traffic
                - tag: node
                  value: '{#NODE}'
            - uuid: e7a15a70ffc24bbda13467a58e91b943
              name: 'Node [{#NODE}]: Total traffic per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.node.bps.total["{#NODE}"]'
              delay: '0'
              units: Bps
              description: 'Total bandwidth for the node.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.3.1.8.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
              master_item:
                key: huawei.oceanstor.v6.node.snmp.walk
              tags:
                - tag: component
                  value: traffic
                - tag: node
                  value: '{#NODE}'
            - uuid: d6d47f333259490d82e94a3e64d13fe5
              name: 'Node [{#NODE}]: Write traffic per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.node.bps.write["{#NODE}"]'
              delay: '0'
              units: Bps
              description: 'Write bandwidth for the node.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.3.1.10.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
              master_item:
                key: huawei.oceanstor.v6.node.snmp.walk
              tags:
                - tag: component
                  value: traffic
                - tag: node
                  value: '{#NODE}'
            - uuid: f16b59b7b91c469ca4cb77d6c44cd04a
              name: 'Node [{#NODE}]: CPU utilization'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.node.cpu["{#NODE}"]'
              delay: '0'
              value_type: FLOAT
              units: '%'
              description: 'CPU usage of the node {#NODE}.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.3.1.2.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: huawei.oceanstor.v6.node.snmp.walk
              tags:
                - tag: component
                  value: cpu
                - tag: node
                  value: '{#NODE}'
              trigger_prototypes:
                - uuid: 9b40267671594690b6ab5c99631a1eee
                  expression: 'min(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.node.cpu["{#NODE}"],5m)>{$CPU.UTIL.CRIT}'
                  name: 'Node [{#NODE}]: High CPU utilization'
                  event_name: 'Node [{#NODE}]: High CPU utilization (over {$CPU.UTIL.CRIT}% for 5m)'
                  opdata: 'Current utilization: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'The CPU utilization is too high. The system might be slow to respond.'
                  tags:
                    - tag: scope
                      value: performance
            - uuid: 420e2952d2b84fcda893a0d5cfb871a5
              name: 'Node [{#NODE}]: Read operations per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.node.iops.read["{#NODE}"]'
              delay: '0'
              units: '!iops'
              description: 'Read IOPS of the node.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.3.1.6.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: huawei.oceanstor.v6.node.snmp.walk
              tags:
                - tag: component
                  value: operations
                - tag: node
                  value: '{#NODE}'
            - uuid: 57ea057db20547b2979eff47e5065d12
              name: 'Node [{#NODE}]: Total I/O per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.node.iops.total["{#NODE}"]'
              delay: '0'
              units: '!iops'
              description: 'Total IOPS of the node.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.3.1.5.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: huawei.oceanstor.v6.node.snmp.walk
              tags:
                - tag: component
                  value: operations
                - tag: node
                  value: '{#NODE}'
            - uuid: 6df44586b9014881b50c159236130712
              name: 'Node [{#NODE}]: Write operations per second'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.node.iops.write["{#NODE}"]'
              delay: '0'
              units: '!iops'
              description: 'Write IOPS of the node.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.21.3.1.7.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: huawei.oceanstor.v6.node.snmp.walk
              tags:
                - tag: component
                  value: operations
                - tag: node
                  value: '{#NODE}'
          graph_prototypes:
            - uuid: cd7495ef5bac44688ffaebdfac066b0c
              name: 'Node [{#NODE}]: CPU utilization'
              ymin_type_1: FIXED
              ymax_type_1: FIXED
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 199C0D
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.node.cpu["{#NODE}"]'
            - uuid: f8024933811d453b99b46a954cfbae27
              name: 'Node [{#NODE}]: Node I/O'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.node.iops.total["{#NODE}"]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.node.iops.read["{#NODE}"]'
                - sortorder: '2'
                  color: 00611C
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.node.iops.write["{#NODE}"]'
            - uuid: 7388f14809844d39ac7423de46ee3937
              name: 'Node [{#NODE}]: Node traffic'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.node.bps.total["{#NODE}"]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.node.bps.read["{#NODE}"]'
                - sortorder: '2'
                  color: 00611C
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.node.bps.write["{#NODE}"]'
          master_item:
            key: huawei.oceanstor.v6.node.snmp.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#NODE}'
                - 1.3.6.1.4.1.34774.4.1.21.3.1.1
                - '0'
        - uuid: c3b461bcd7634792acbbfa37675cf607
          name: 'Storage pool discovery'
          type: DEPENDENT
          key: huawei.oceanstor.v6.pool.discovery
          delay: '0'
          description: 'Discovery of storage pools.'
          item_prototypes:
            - uuid: 4c1c3bc8869a4775b7f6a4c21edb1850
              name: 'Storage pool [{#NAME}]: Capacity free'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.pool.capacity.free["{#NAME}"]'
              delay: '0'
              units: B
              description: 'Available capacity of a storage pool.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.4.2.1.9.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
              master_item:
                key: huawei.oceanstor.v6.pool.snmp.walk
              tags:
                - tag: component
                  value: storage
                - tag: pool
                  value: '{#NAME}'
            - uuid: b9c12a8ea2604bb9bbb30bfdd899fe3a
              name: 'Storage pool [{#NAME}]: Capacity total'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.pool.capacity.total["{#NAME}"]'
              delay: '0'
              units: B
              description: 'Total capacity of a storage pool.'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.4.2.1.7.{#SNMPINDEX}'
                    - '0'
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.pool.snmp.walk
              tags:
                - tag: component
                  value: storage
                - tag: pool
                  value: '{#NAME}'
            - uuid: 9ca654ec54f0471c8e59959a792c7604
              name: 'Storage pool [{#NAME}]: Health status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.pool.health_status["{#NAME}"]'
              delay: '0'
              description: 'Health status of a storage pool.'
              valuemap:
                name: 'Huawei storage: Health status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.4.2.1.5.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.pool.snmp.walk
              tags:
                - tag: component
                  value: health
                - tag: pool
                  value: '{#NAME}'
              trigger_prototypes:
                - uuid: cb33cfc443bd49cfb0e8862515f8c481
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.pool.health_status["{#NAME}"])<>1'
                  name: 'Storage pool [{#NAME}]: Health status is not Normal'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 93d705a0ac84420ba35a54753652eacf
              name: 'Storage pool [{#NAME}]: Running status'
              type: DEPENDENT
              key: 'huawei.oceanstor.v6.pool.runnnig_status["{#NAME}"]'
              delay: '0'
              description: 'Operating status of a storage pool.'
              valuemap:
                name: 'Huawei storage: Running status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '1.3.6.1.4.1.34774.4.1.23.4.2.1.6.{#SNMPINDEX}'
                    - '0'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: huawei.oceanstor.v6.pool.snmp.walk
              tags:
                - tag: component
                  value: health
                - tag: pool
                  value: '{#NAME}'
              trigger_prototypes:
                - uuid: 1921c51b36374cd4b9efe7e49f8cd2da
                  expression: 'last(/Huawei OceanStor V6 by SNMP/huawei.oceanstor.v6.pool.runnnig_status["{#NAME}"])<>27'
                  name: 'Storage pool [{#NAME}]: Running status is not Online'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
          graph_prototypes:
            - uuid: 4660952f212447d6b8a0819693688415
              name: 'Storage pool [{#NAME}]: Capacity'
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.pool.capacity.total["{#NAME}"]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Huawei OceanStor V6 by SNMP'
                    key: 'huawei.oceanstor.v6.pool.capacity.free["{#NAME}"]'
          master_item:
            key: huawei.oceanstor.v6.pool.snmp.walk
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#NAME}'
                - 1.3.6.1.4.1.34774.4.1.23.4.2.1.2
                - '0'
                - '{#THRESHOLD}'
                - 1.3.6.1.4.1.34774.4.1.23.4.2.1.14
                - '0'
      tags:
        - tag: class
          value: hardware
        - tag: class
          value: storage
        - tag: target
          value: huawei
        - tag: target
          value: huawei-oceanstor-v6
      macros:
        - macro: '{$CPU.UTIL.CRIT}'
          value: '90'
          description: 'The critical threshold of the CPU utilization expressed in %.'
        - macro: '{$HUAWEI.OCEANSTOR_V6.DISK.TEMP.MAX.TIME}'
          value: 5m
          description: 'The time during which temperature of disk may exceed the threshold.'
        - macro: '{$HUAWEI.OCEANSTOR_V6.DISK.TEMP.MAX.WARN}'
          value: '45'
          description: 'Maximum temperature of disk. Can be used with {#MODEL} as context.'
        - macro: '{$HUAWEI.OCEANSTOR_V6.LUN.IO.TIME.MAX.TIME}'
          value: 5m
          description: 'The time during which average I/O response time of LUN may exceed the threshold.'
        - macro: '{$HUAWEI.OCEANSTOR_V6.LUN.IO.TIME.MAX.WARN}'
          value: '0.0001'
          description: 'Maximum average I/O response time of LUN in seconds.'
        - macro: '{$HUAWEI.OCEANSTOR_V6.MEM.MAX.TIME}'
          value: 5m
          description: 'The time during which memory usage may exceed the threshold.'
        - macro: '{$HUAWEI.OCEANSTOR_V6.MEM.MAX.WARN}'
          value: '90'
          description: 'Maximum percentage of memory used.'
        - macro: '{$HUAWEI.OCEANSTOR_V6.NODE.IO.DELAY.MAX.TIME}'
          value: 5m
          description: 'The time during which average I/O latency of node may exceed the threshold.'
        - macro: '{$HUAWEI.OCEANSTOR_V6.NODE.IO.DELAY.MAX.WARN}'
          value: '20'
          description: 'Maximum average I/O latency of node in milliseconds.'
        - macro: '{$HUAWEI.OCEANSTOR_V6.POOL.CAPACITY.THRESH.TIME}'
          value: 5m
          description: 'The time during which free capacity may exceed the {#THRESHOLD} from hwInfoStoragePoolFullThreshold.'
        - macro: '{$HUAWEI.OCEANSTOR_V6.TEMP.MAX.TIME}'
          value: 3m
          description: 'The time during which temperature of enclosure may exceed the threshold.'
        - macro: '{$HUAWEI.OCEANSTOR_V6.TEMP.MAX.WARN}'
          value: '35'
          description: 'Maximum temperature of enclosure.'
        - macro: '{$ICMP_LOSS_WARN}'
          value: '20'
          description: 'Warning threshold of ICMP packet loss in %.'
        - macro: '{$ICMP_RESPONSE_TIME_WARN}'
          value: '0.15'
          description: 'Warning threshold of the average ICMP response time in seconds.'
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'Time interval for the SNMP availability trigger.'
      dashboards:
        - uuid: 903ed81af3f44d79843555a48a52c069
          name: 'OceanStor V6: Overview'
          pages:
            - name: 'Capacity total'
              widgets:
                - type: graph
                  name: 'OceanStor V6: Capacity total'
                  width: '72'
                  height: '4'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Huawei OceanStor V6 by SNMP'
                        name: 'OceanStor V6: Capacity'
                    - type: STRING
                      name: reference
                      value: EFDAA
            - name: 'CPU utilization'
              widgets:
                - type: graphprototype
                  name: 'Controller [{#ID}]: CPU utilization'
                  width: '72'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid.0
                      value:
                        host: 'Huawei OceanStor V6 by SNMP'
                        name: 'Controller [{#ID}]: CPU utilization'
                    - type: STRING
                      name: reference
                      value: FCBEC
                - type: graphprototype
                  name: 'Node [{#NODE}]: CPU utilization'
                  'y': '4'
                  width: '72'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid.0
                      value:
                        host: 'Huawei OceanStor V6 by SNMP'
                        name: 'Node [{#NODE}]: CPU utilization'
                    - type: STRING
                      name: reference
                      value: EABAA
            - name: Node
              widgets:
                - type: graphprototype
                  name: 'Node [{#NODE}]: Node I/O'
                  width: '72'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid.0
                      value:
                        host: 'Huawei OceanStor V6 by SNMP'
                        name: 'Node [{#NODE}]: Node I/O'
                    - type: STRING
                      name: reference
                      value: CEFEF
                - type: graphprototype
                  name: 'Node [{#NODE}]: Node traffic'
                  'y': '4'
                  width: '72'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid.0
                      value:
                        host: 'Huawei OceanStor V6 by SNMP'
                        name: 'Node [{#NODE}]: Node traffic'
                    - type: STRING
                      name: reference
                      value: DEEEA
            - name: Lun
              widgets:
                - type: graphprototype
                  name: 'LUN [{#NAME}]: LUN I/O'
                  width: '72'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid.0
                      value:
                        host: 'Huawei OceanStor V6 by SNMP'
                        name: 'LUN [{#NAME}]: LUN I/O'
                    - type: STRING
                      name: reference
                      value: BCFDA
                - type: graphprototype
                  name: 'LUN [{#NAME}]: LUN traffic'
                  'y': '4'
                  width: '72'
                  height: '4'
                  fields:
                    - type: INTEGER
                      name: columns
                      value: '1'
                    - type: GRAPH_PROTOTYPE
                      name: graphid.0
                      value:
                        host: 'Huawei OceanStor V6 by SNMP'
                        name: 'LUN [{#NAME}]: LUN traffic'
                    - type: STRING
                      name: reference
                      value: CFFDA
      valuemaps:
        - uuid: f5e1e39d571c4924a3bc790a68655d57
          name: 'Huawei storage: Controller role'
          mappings:
            - value: '0'
              newvalue: Normal
            - value: '1'
              newvalue: Master
            - value: '2'
              newvalue: Slave
        - uuid: 75dadef1eb89477e98a720f565b22fb2
          name: 'Huawei storage: Health status'
          mappings:
            - value: '0'
              newvalue: Undefined
            - value: '1'
              newvalue: Normal
            - value: '2'
              newvalue: Fault
            - value: '3'
              newvalue: Pre-fail
            - value: '4'
              newvalue: 'Partially broken'
            - value: '5'
              newvalue: Degraded
            - value: '6'
              newvalue: 'Bad sectors found'
            - value: '7'
              newvalue: 'Bit errors found'
            - value: '8'
              newvalue: Consistent
            - value: '9'
              newvalue: Inconsistent
            - value: '10'
              newvalue: Busy
            - value: '11'
              newvalue: 'No input'
            - value: '12'
              newvalue: 'Low battery'
            - value: '13'
              newvalue: 'Single link fault'
            - value: '14'
              newvalue: Invalid
            - value: '15'
              newvalue: 'Write protect'
        - uuid: bc8c328c71284602a6f20cfab9ac3671
          name: 'Huawei storage: LUN status'
          mappings:
            - value: '1'
              newvalue: Normal
            - value: '2'
              newvalue: Faulty
            - value: '3'
              newvalue: Unformatted
            - value: '4'
              newvalue: Formatting
        - uuid: 63c504430f6a4aad9259711d3d78f168
          name: 'Huawei storage: Running status'
          mappings:
            - value: '0'
              newvalue: Undefined
            - value: '1'
              newvalue: Normal
            - value: '2'
              newvalue: Running
            - value: '3'
              newvalue: 'Not running'
            - value: '4'
              newvalue: 'Not existed'
            - value: '5'
              newvalue: 'Sleep in high temperature'
            - value: '6'
              newvalue: Starting
            - value: '7'
              newvalue: 'Power failure rotection'
            - value: '8'
              newvalue: 'Spin down'
            - value: '9'
              newvalue: Started
            - value: '10'
              newvalue: 'Link Up'
            - value: '11'
              newvalue: 'Link Down'
            - value: '12'
              newvalue: 'Powering on'
            - value: '13'
              newvalue: 'Powered off'
            - value: '14'
              newvalue: Pre-copy
            - value: '15'
              newvalue: Copyback
            - value: '16'
              newvalue: Reconstruction
            - value: '17'
              newvalue: Expansion
            - value: '18'
              newvalue: Unformatted
            - value: '19'
              newvalue: Formatting
            - value: '20'
              newvalue: Unmapped
            - value: '21'
              newvalue: 'Initial synchronizing'
            - value: '22'
              newvalue: Consistent
            - value: '23'
              newvalue: Synchronizing
            - value: '24'
              newvalue: Synchronized
            - value: '25'
              newvalue: Unsynchronized
            - value: '26'
              newvalue: Split
            - value: '27'
              newvalue: Online
            - value: '28'
              newvalue: Offline
            - value: '29'
              newvalue: Locked
            - value: '30'
              newvalue: Enabled
            - value: '31'
              newvalue: Disabled
            - value: '32'
              newvalue: Balancing
            - value: '33'
              newvalue: 'To be recovered'
            - value: '34'
              newvalue: Interrupted
            - value: '35'
              newvalue: Invalid
            - value: '36'
              newvalue: 'Not start'
            - value: '37'
              newvalue: Queuing
            - value: '38'
              newvalue: Stopped
            - value: '39'
              newvalue: Copying
            - value: '40'
              newvalue: Completed
            - value: '41'
              newvalue: Paused
            - value: '42'
              newvalue: 'Reverse synchronizing'
            - value: '43'
              newvalue: Activated
            - value: '44'
              newvalue: Restore
            - value: '45'
              newvalue: Inactive
            - value: '46'
              newvalue: Idle
            - value: '47'
              newvalue: 'Powering off'
            - value: '48'
              newvalue: Charging
            - value: '49'
              newvalue: 'Charging completed'
            - value: '50'
              newvalue: Discharging
            - value: '51'
              newvalue: Upgrading
            - value: '52'
              newvalue: 'Power Lost'
            - value: '53'
              newvalue: Initializing
            - value: '54'
              newvalue: 'Apply change'
            - value: '55'
              newvalue: 'Online disable'
            - value: '56'
              newvalue: 'Offline disable'
            - value: '57'
              newvalue: 'Online frozen'
            - value: '58'
              newvalue: 'Offline frozen'
            - value: '59'
              newvalue: Closed
            - value: '60'
              newvalue: Removing
            - value: '61'
              newvalue: 'In service'
            - value: '62'
              newvalue: 'Out of service'
            - value: '63'
              newvalue: 'Running normal'
            - value: '64'
              newvalue: 'Running fail'
            - value: '65'
              newvalue: 'Running success'
            - value: '66'
              newvalue: 'Running success'
            - value: '67'
              newvalue: 'Running failed'
            - value: '68'
              newvalue: Waiting
            - value: '69'
              newvalue: Canceling
            - value: '70'
              newvalue: Canceled
            - value: '71'
              newvalue: 'About to synchronize'
            - value: '72'
              newvalue: 'Synchronizing data'
            - value: '73'
              newvalue: 'Failed to synchronize'
            - value: '74'
              newvalue: Fault
            - value: '75'
              newvalue: Migrating
            - value: '76'
              newvalue: Migrated
            - value: '77'
              newvalue: Activating
            - value: '78'
              newvalue: Deactivating
            - value: '79'
              newvalue: 'Start failed'
            - value: '80'
              newvalue: 'Stop failed'
            - value: '81'
              newvalue: Decommissioning
            - value: '82'
              newvalue: Decommissioned
            - value: '83'
              newvalue: Recommissioning
            - value: '84'
              newvalue: 'Replacing node'
            - value: '85'
              newvalue: Scheduling
            - value: '86'
              newvalue: Pausing
            - value: '87'
              newvalue: Suspending
            - value: '88'
              newvalue: Suspended
            - value: '89'
              newvalue: Overload
            - value: '90'
              newvalue: 'To be switch'
            - value: '91'
              newvalue: Switching
            - value: '92'
              newvalue: 'To be cleanup'
            - value: '93'
              newvalue: 'Forced start'
            - value: '94'
              newvalue: Error
            - value: '95'
              newvalue: 'Job completed'
            - value: '96'
              newvalue: 'Partition Migrating'
            - value: '97'
              newvalue: Mount
            - value: '98'
              newvalue: Umount
            - value: '99'
              newvalue: INSTALLING
            - value: '100'
              newvalue: 'To Be Synchronized'
            - value: '101'
              newvalue: Connecting
            - value: '102'
              newvalue: 'Service Switching'
            - value: '103'
              newvalue: 'Power-on failed'
            - value: '104'
              newvalue: REPAIRING
            - value: '105'
              newvalue: abnormal
            - value: '106'
              newvalue: Deleting
            - value: '107'
              newvalue: Modifying
            - value: '108'
              newvalue: 'Running(clearing data)'
            - value: '109'
              newvalue: 'Running(synchronizing data)'
        - uuid: 9401229bcb7e412fb1978cdfd66b038a
          name: 'Service state'
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
        - uuid: 0e0faaaa506a4667a4878accd9ce5040
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
  triggers:
    - uuid: bad9ca0c690e4a44a6f6c5ab63b3068f
      expression: '(last(/Huawei OceanStor V6 by SNMP/system.hw.uptime[hrSystemUptime.0])>0 and last(/Huawei OceanStor V6 by SNMP/system.hw.uptime[hrSystemUptime.0])<10m) or (last(/Huawei OceanStor V6 by SNMP/system.hw.uptime[hrSystemUptime.0])=0 and last(/Huawei OceanStor V6 by SNMP/system.net.uptime[sysUpTime.0])<10m)'
      name: 'Host has been restarted'
      event_name: '{HOST.NAME} has been restarted (uptime < 10m)'
      priority: WARNING
      description: 'Uptime is less than 10 minutes.'
      manual_close: 'YES'
      dependencies:
        - name: 'No SNMP data collection'
          expression: 'max(/Huawei OceanStor V6 by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
      tags:
        - tag: scope
          value: notice
  graphs:
    - uuid: 8710f4b2733a41d4aa713bbb9117a9e6
      name: 'OceanStor V6: Capacity'
      graph_items:
        - color: 199C0D
          item:
            host: 'Huawei OceanStor V6 by SNMP'
            key: huawei.oceanstor.v6.capacity.total
        - sortorder: '1'
          color: F63100
          item:
            host: 'Huawei OceanStor V6 by SNMP'
            key: huawei.oceanstor.v6.capacity.used
